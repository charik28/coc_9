<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="alpass.ipt.car.load.mapper.CarLoadMdfyMapper">

    <!--
    Rectifier la demande de chargement !== 적재정정신청  ==!
    -->
    <sql id ="selectItemCarLoad">
	    SELECT
              A.LOAD_MDFY_RQST_NO					/** !==적재정정신청번호==! */
            , A.SLNG_RGSR_NO						/** !==운항등록번호==! */
            , A.LOAD_MDFY_RQST_MGMT_NO				/** !==적재정정신청관리번호==! */
            , A.LOAD_RQST_NO						/** !==적재신청번호==! */
            , A.MDFY_DGCNT							/** !==정정차수==! */
            , TO_CHAR(A.TRSN_DTTM,'DD/MM/YYYY') AS TRSN_DTTM	/** !==전송일시==! */
            , A.CAG_RQST_TP_CD                     	/** !==화물신청구분코드==! */
            , A.JRSD_ORGN_CD						/** !==관할조직코드==! */
            , FN_GET_ORGN_NM(A.JRSD_ORGN_CD) AS JRSD_ORGN_NM
            , D.JRSD_CSTM_CD							/** !==관할세관코드==! */
            , FN_GET_ORGN_NM(D.JRSD_CSTM_CD) AS JRSD_CSTM_NM
            , A.TRSN_CO_CD								/** !==전송업체코드==! */
            , FN_CARI_GET_CO_NM(A.TRSN_CO_CD) AS TRSN_CO_NM
            , A.CAG_DCSH_MDFY_TP_CD					/** !==화물신고서정정구분코드==! */
            , A.MDFY_RSN_CN							/** !==정정사유내용==! */
            , TO_CHAR(TO_DATE(A.LOAD_DT, 'YYYYMMDD'), 'DD/MM/YYYY') AS LOAD_DT /** !==적재일자==! */
			, A.AUDT_OPIN_CN							/** !==심사의견내용==! */
            , A.APRE_YN_CD								/** !==승인여부코드==! */
            , A.ATCH_FILE_ID							/** !==첨부파일ID==! */
            , A.DEL_YN
            , A.FRST_REGST_ID
            , TO_CHAR(A.FRST_RGSR_DTTM,'DD/MM/YYYY HH24:MI:SS') AS FRST_RGSR_DTTM
            , A.LAST_CHPR_ID
            , TO_CHAR(A.LAST_CHG_DTTM,'DD/MM/YYYY HH24:MI:SS') AS LAST_CHG_DTTM
            , (SELECT SLNG_MGMT_NO FROM TB_CARI_LOAD_SLNG_INFO WHERE SLNG_RGSR_NO = B.SLNG_RGSR_NO) AS SLNG_MGMT_NO /** !==운항관리번호==! */
            , B.TRNP_MEAN_CD                       	/** !==운송방법코드==! */
            , B.TRNP_METH_NM                       	/** !==운송수단명==! */
            , B.TRNP_METH_IDFY_NO                  	/** !==운송수단식별번호==! */
            , B.IMO_NO                  			/** !==IMO번호==! */
            , B.TRNP_RFER_NO                       	/** !==운송참고번호==! */
            , B.TRNP_METH_RGSR_DT					/** !==운송수단등록일자==! */
            , CASE
                WHEN A.CAG_RQST_TP_CD = 'LMA' THEN TO_CHAR(B.DPTR_DTTM,'DD/MM/YYYY HH24:MI')	/** !==출발일시(항공)==! */
                WHEN A.CAG_RQST_TP_CD = 'LMT' THEN TO_CHAR(B.DPTR_DTTM,'DD/MM/YYYY HH24:MI')	/** !==출발일시(육상)==! */
                ELSE TO_CHAR(B.DPTR_DTTM,'DD/MM/YYYY') /** Date et heure de départ !==출발일시==! */
                END AS DPTR_DTTM
            , CASE
		        WHEN A.CAG_RQST_TP_CD = 'LMA' THEN TO_CHAR(B.ARVL_DTTM,'DD/MM/YYYY HH24:MI')	/** !==도착일시(항공)==! */
		        WHEN A.CAG_RQST_TP_CD = 'LMT' THEN TO_CHAR(B.ARVL_DTTM,'DD/MM/YYYY HH24:MI')	/** !==도착일시(육상)==! */
		        ELSE TO_CHAR(B.ARVL_DTTM,'DD/MM/YYYY') /** !==도착일시==! */
		      	END AS ARVL_DTTM
            , B.DPTR_PORT_CD                       	/** !==출발항구코드==! */
			, FN_CARI_GET_PORT_AIRPT_CITY_CD_NM(B.DPTR_PORT_CD, #{langCd}) AS DPTR_PORT_NM	/** !==출발항구명==! */
			, B.LDUN_PORT_CD                       	/** !==하역항구코드==! */
			, FN_CARI_GET_PORT_AIRPT_CITY_CD_NM(B.LDUN_PORT_CD, #{langCd}) AS LDUN_PORT_NM	/** !==하역항구명==! */
			, B.LAST_THRG_PORT_CD                      	/** !==최종하역항구코드==! */
			, FN_CARE_GET_PORT_AIRPT_CITY_CD_NM(B.LAST_THRG_PORT_CD, #{langCd}) AS LAST_THRG_PORT_NM	/** !==최종하역항구명==! */
			, B.TRNP_METH_NAT_CD                   	/** !==운송수단국적코드==! */
			, FN_GET_CNTY_NM(B.TRNP_METH_NAT_CD ,  #{langCd} /**P*/) AS TRNP_METH_NAT_NM    /** Code de pays du moyen de transport !==운송수단국적명==! */
			, B.SHIP_TTN		/** 선박총톤수 */
            , B.SHIP_NTTN		/** 선박순톤수 */
            , B.LTSP_YN			/** 공선여부 */
            , B.CARR_CD         /** !==운송사코드==! */
            , ( SELECT DISTINCT(CO_NM)
                      FROM TB_COM_CO T1
                         , TB_COM_CO_DCLR_CD T2
                     WHERE T1.NIF = T2.NIF
                       AND T2.CARR_CD = B.CARR_CD
                       AND T2.DEL_YN = 'N'
                       AND T2.USE_YN = 'Y'
                       LIMIT 1
                  ) AS CARR_NM        /** Nom de société de transport !==운송사명==! */
            , B.CARR_ADDR_NM	/** 운송사주소명 */
            , B.DRVR_NM		/** 운전자명 */
            , B.DRVR_ADIT_INFO_CN	/** 운전자 추가정보 */
            , A.MDFY_ATCH_FILE_ID                 /** ID de pièce jointe de rectification !==정정첨부파일==! */
            , C.AUDT_EMP_ID		/** 심사직원 */
            , ( SELECT EMP_FMNM || ' ' || EMP_NM
                 FROM TB_POTI_EMP
                WHERE PBSR_NO = C.AUDT_EMP_ID
              ) AS AUDT_EMP_NM
			, TO_CHAR(C.PRCS_DTTM,'DD/MM/YYYY') AS PRCS_DTTM	/** !==처리일시==! */
            , C.PRCS_STTS_CD                       		/** !==처리상태코드==! */

			, ( SELECT LOAD_RQST_MGMT_NO
            	FROM TB_CARI_LOAD
            	WHERE DEL_YN = 'N'
            	AND LOAD_RQST_NO = A.LOAD_RQST_NO
               ) AS LOAD_RQST_MGMT_NO /** 적재신청관리번호 */
            , ( SELECT SLNG_MGMT_NO
            	FROM TB_CARI_LOAD_SLNG_INFO
            	WHERE DEL_YN = 'N'
            	AND SLNG_RGSR_NO = A.SLNG_RGSR_NO
               ) AS SLNG_MGMT_NO /** 운항관리번호 */
            , ( SELECT
	        		LOAD_MDFY_RQST_NO
		        FROM TB_CARI_LOAD_MDFY
		        WHERE DEL_YN = 'N'
		        AND LOAD_RQST_NO = A.LOAD_RQST_NO
		        AND MDFY_DGCNT = (
			        SELECT MAX(MDFY_DGCNT)
			        FROM TB_CARI_LOAD_MDFY
			        WHERE DEL_YN = 'N'
			        AND LOAD_RQST_NO = A.LOAD_RQST_NO
					AND MDFY_DGCNT &lt; A.MDFY_DGCNT
					AND APRE_YN_CD = 'O')
				) AS BF_MDFY_RQST_NO /** 이전 정정신청번호 */

            , (SELECT COUNT(BL_NO) FROM TB_CARI_LOAD_MDFY_BL
            	WHERE LOAD_MDFY_RQST_NO = A.LOAD_MDFY_RQST_NO
            	AND DEL_YN = 'N') AS AL_BL_GCNT
            , (SELECT NVL(SUM(PCKG_GCNT), 0) FROM TB_CARI_LOAD_MDFY_BL
            	WHERE LOAD_MDFY_RQST_NO = A.LOAD_MDFY_RQST_NO
            	AND DEL_YN = 'N') AS AL_PCKG_GCNT
            , (SELECT NVL(SUM(TTWG + LIR_VOL), 0) FROM TB_CARI_LOAD_MDFY_BL
            	WHERE LOAD_MDFY_RQST_NO = A.LOAD_MDFY_RQST_NO
            	AND DEL_YN = 'N') AS AL_TTWG
            , (SELECT COUNT(CNTR_NO) FROM TB_CARI_LOAD_MDFY_BL_CNTR
            	WHERE LOAD_MDFY_RQST_NO = A.LOAD_MDFY_RQST_NO
            	AND DEL_YN = 'N') AS AL_CNTR_GCNT
            , (SELECT COUNT(CHSS_NO) FROM TB_CARI_LOAD_MDFY_BL_VHCL
            	WHERE LOAD_MDFY_RQST_NO = A.LOAD_MDFY_RQST_NO
            	AND DEL_YN = 'N') AS AL_VHCL_GCNT
            FROM  TB_CARI_LOAD_MDFY A
            INNER JOIN TB_CARI_LOAD_MDFY_SLNG_INFO B
            ON A.LOAD_MDFY_RQST_NO = B.LOAD_MDFY_RQST_NO
            INNER JOIN TB_CARI_CAG_PRCS_BRKD C
            ON A.LOAD_MDFY_RQST_NO = C.CAG_RQST_NO
            AND A.CAG_RQST_TP_CD = C.CAG_RQST_TP_CD
            LEFT JOIN ( SELECT C1.ORGN_CD, C2.ORGN_CD JRSD_CSTM_CD
                        FROM ALPASSINT.TB_POTI_ORGN C1
                        LEFT JOIN  ALPASSINT.TB_POTI_ORGN C2
                        ON C1.UPR_ORGN_MGMT_CD = C2.ORGN_MGMT_CD
                        WHERE C1.DEL_YN = 'N'
                      ) D
            ON A.JRSD_ORGN_CD = D.ORGN_CD
            WHERE 1=1
            AND A.DEL_YN = 'N'
            AND B.DEL_YN = 'N'
            AND C.DEL_YN = 'N'
    </sql>




    <!--
    Voir la liste des Demande de Rectifier la demande de chargement !==적재신청정정 목록 조회한다.==!
    (Seo Yongki)
    -->
    <select id="selectCarLoadMdfyRqstList"
            parameterType="alpass.ipt.car.load.vo.CarLoadVo"
            resultType="alpass.ipt.car.load.vo.CarLoadVo">
        /* selectCarLoadMdfyRqstList */
        <include refid="pagination.header" ></include>
        <include refid="selectItemCarLoad" ></include>

            AND	A.CAG_RQST_TP_CD = #{cagRqstTpCd}			/** !==화물신청구분코드==! */
            <if test="prcsDttmFrom != null and prcsDttmFrom != ''">		/** !==처리일시==! */
            AND C.PRCS_DTTM BETWEEN TO_DATE(#{prcsDttmFrom}, 'DD/MM/YYYY') AND TO_DATE(#{prcsDttmTo}, 'DD/MM/YYYY') + 0.99999
            </if>
            <choose>
            	<when test="prcsSttsCd  == 'D01'">
            	AND C.PRCS_STTS_CD NOT IN ('D08', 'D09')
            	</when>
            	<when test="prcsSttsCd != null and prcsSttsCd != ''">
            	AND	C.PRCS_STTS_CD = #{prcsSttsCd}		/** !==처리상태코드==! */
            	</when>
            	<otherwise></otherwise>
            </choose>
            <if test="audtEmpId != null and audtEmpId != ''">
			AND	C.audt_emp_id  = #{ audtEmpId }			 							/** ID de l'inspecteur !==검사직원ID==! */
			</if>
            <if test="dptrDttmFrom != null and dptrDttmFrom != ''">		/** Date et heure de départ !==출발일시==! */
            AND B.DPTR_DTTM BETWEEN TO_DATE(#{dptrDttmFrom}, 'DD/MM/YYYY') AND TO_DATE(#{dptrDttmTo}, 'DD/MM/YYYY') + 0.99999
            </if>
            <if test="slngRgsrNo != null and slngRgsrNo != ''">
            AND	UPPER(B.SLNG_RGSR_NO) LIKE UPPER(#{slngRgsrNo})||'%'			/** N° d'enregistrement de voyage !==운항등록번호==! */
            </if>
            <if test="loadRqstNo != null and loadRqstNo != ''">
            AND	UPPER(A.LOAD_RQST_NO) LIKE UPPER(#{loadRqstNo})||'%'			/** N° de demande de chargement !==적재신청번호==! */
            </if>
            <if test="trnpRferNo != null and trnpRferNo != ''">
            AND	UPPER(B.TRNP_RFER_NO) LIKE UPPER(#{trnpRferNo})||'%'			/** N° de voyageN° de volN° d'iNIFéraire !==운송참고번호==! */
            </if>
            <if test="trnpMethNm != null and trnpMethNm != ''">
            AND	UPPER(B.TRNP_METH_NM) LIKE UPPER(#{trnpMethNm})||'%'			/** Nom de moyen de transport !==운송수단명==! */
            </if>
            <if test="dptrPortCd != null and dptrPortCd != ''">
            AND	B.DPTR_PORT_CD = #{dptrPortCd}					/** Code de port de déchargement !==하역항구코드==! */
            </if>
            <if test="trnpMeanCd != null and trnpMeanCd != ''">
            AND	B.TRNP_MEAN_CD = #{trnpMeanCd}					/** !==운송방법코드==! */
            </if>
            AND A.JRSD_ORGN_CD IN (           
            <choose>
                  <when test="jrsdOrgnCd != null and jrsdOrgnCd != ''">
                  SELECT unnest(string_to_array(alpassint.fn_cari_get_orgcd('O', #{jrsdOrgnCd}), ','))
                  </when>
                  <otherwise>
                  SELECT unnest(string_to_array(alpassint.fn_cari_get_orgcd('P', #{frstRegstId}), ','))
                  </otherwise>
              </choose>
            )
            ORDER BY A.TRSN_DTTM DESC
		<include refid="pagination.footer" ></include>
    </select>

    <!--
    Voir les détails de la déclaration de Rectifier la demande de chargement !==적재신청정정 조회한다.==!
    (Seo Yongki)
    -->
    <select id="selectCarLoadMdfyRqst"
            parameterType="alpass.ipt.car.load.vo.CarLoadVo"
            resultType="alpass.ipt.car.load.vo.CarLoadVo">
        /* selectCarLoadMdfyRqst */
        <include refid="selectItemCarLoad" ></include>
		AND A.LOAD_MDFY_RQST_NO = #{loadMdfyRqstNo}
    </select>

    <!--
    승인된 이전 정정신청관리번호 조회
    (Seo Yongki)
     -->
     <select id="selectBfLoadMdfyRqstNo" parameterType="alpass.ipt.car.load.vo.CarLoadVo" resultType="String">
        /* selectBfLoadMdfyRqstNo */
        SELECT
        	A.LOAD_MDFY_RQST_NO
        FROM TB_CARI_LOAD_MDFY A
        WHERE A.DEL_YN = 'N'
        AND A.LOAD_RQST_NO = #{loadRqstNo}
        AND A.MDFY_DGCNT = (
	        SELECT MAX(MDFY_DGCNT)
	        FROM TB_CARI_LOAD_MDFY
	        WHERE DEL_YN = 'N'
	        AND LOAD_RQST_NO = #{loadRqstNo}
			AND MDFY_DGCNT &lt; #{mdfyDgcnt}
			AND APRE_YN_CD = 'O'
        )
    </select>

    <!--
      Modifier la  déclaration de Demande de chargement !==적재신청 정보를 수정한다.==!
    -->
    <update id="updateCarLoadMdfy" parameterType="alpass.ipt.car.load.vo.CarLoadVo" >
        /* updateCarLoadMdfy */
        UPDATE TB_CARI_LOAD_MDFY SET
        	  DEL_YN = 'N'
        	, LAST_CHPR_ID = #{lastChprId}
        	, LAST_CHG_DTTM = SYSTIMESTAMP
            , APRE_YN_CD	= #{apreYnCd}
            , AUDT_OPIN_CN =  #{audtOpinCn}
        WHERE DEL_YN = 'N'
        AND LOAD_MDFY_RQST_NO = #{loadMdfyRqstNo}
    </update>

    <!--
      Modifier la  déclaration de Demande de chargement(EPT) !==적재신청 정보를 수정한다.(EPT)==!
    -->
    <update id="updateCarLoadMdfyToExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo" >
        /* updateCarLoadMdfyToExt */
        UPDATE ALPASSEXT.TB_CARE_LOAD_MDFY SET
        	  DEL_YN = 'N'
        	, LAST_CHPR_ID = #{lastChprId}
        	, LAST_CHG_DTTM = SYSTIMESTAMP
            , APRE_YN_CD	= #{apreYnCd}
            , AUDT_OPIN_CN =  #{audtOpinCn}
            , PRCS_DTTM =  SYSTIMESTAMP
            , PRCS_STTS_CD =  #{prcsSttsCd}
        WHERE DEL_YN = 'N'
        AND LOAD_MDFY_RQST_MGMT_NO = #{loadMdfyRqstMgmtNo}
    </update>
    
    <!--
      Annuler la demande de chargement !==적재신청 취소==!
    -->
    <update id="cancelCarLoadExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo" >
        /* cancelCarLoadExt */
        UPDATE ALPASSEXT.TB_CARE_LOAD SET
        	  DEL_YN = 'N'
        	, LAST_CHPR_ID  = #{lastChprId}
        	, LAST_CHG_DTTM = SYSTIMESTAMP
            , APRE_YN_CD	= #{apreYnCd}
            , AUDT_OPIN_CN  = #{audtOpinCn}
            , PRCS_DTTM     = SYSTIMESTAMP
            , PRCS_STTS_CD  = 'A09'
        WHERE DEL_YN = 'N'
        AND LOAD_RQST_MGMT_NO = #{loadRqstMgmtNo}
    </update>
    


    <!--
    Modifier la  déclaration de Info du transport(IPT) !==운송정보 정보를 수정한다.(IPT)==!
    -->
    <insert id="insertCarLoadMdfySlngInfoInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfySlngInfoInt */
        INSERT INTO TB_CARI_LOAD_MDFY_SLNG_INFO (
              LOAD_MDFY_RQST_NO
            , SLNG_RGSR_NO
        	, TRNP_MEAN_CD
        	, TRNP_METH_NM
        	, TRNP_METH_IDFY_NO
        	, TRNP_RFER_NO
        	, TRNP_METH_RGSR_DT
        	, IMO_NO
        	, DPTR_DTTM
        	, ARVL_DTTM
        	, DPTR_PORT_CD
        	, LDUN_PORT_CD
        	, LAST_THRG_PORT_CD
        	, TRNP_METH_NAT_CD
        	, SHIP_TTN
        	, SHIP_NTTN
        	, LTSP_YN
        	, CARR_CD
        	, CARR_ADDR_NM
        	, DRVR_NM
        	, DRVR_ADIT_INFO_CN
        	, DEL_YN
        	, FRST_REGST_ID
        	, FRST_RGSR_DTTM
        	, LAST_CHPR_ID
        	, LAST_CHG_DTTM
        )
        SELECT
              #{loadMdfyRqstNo}
        	, SLNG_RGSR_NO
	        , TRNP_MEAN_CD
        	, TRNP_METH_NM
        	, TRNP_METH_IDFY_NO
        	, TRNP_RFER_NO
        	, TRNP_METH_RGSR_DT
        	, IMO_NO
        	, DPTR_DTTM
        	, ARVL_DTTM
        	, DPTR_PORT_CD
        	, LDUN_PORT_CD
        	, LAST_THRG_PORT_CD
        	, TRNP_METH_NAT_CD
        	, SHIP_TTN
        	, SHIP_NTTN
        	, LTSP_YN
        	, CARR_CD
        	, CARR_ADDR_NM
        	, DRVR_NM
        	, DRVR_ADIT_INFO_CN
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_SLNG_INFO A
		WHERE A.DEL_YN = 'N'
		AND A.SLNG_RGSR_NO = #{slngRgsrNo}
    </insert>

    <!--
    Modifier la  déclaration de Info du transport(EPT) !==운송정보 정보를 수정한다.(EPT)==!
    -->
    <insert id="insertCarLoadMdfySlngInfoExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfySlngInfoExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_SLNG_INFO (
              SLNG_RGSR_NO
        	, LOAD_MDFY_RQST_MGMT_NO
        	, TRNP_MEAN_CD
        	, TRNP_METH_NM
        	, TRNP_METH_IDFY_NO
        	, TRNP_RFER_NO
        	, TRNP_METH_RGSR_DT
        	, IMO_NO
        	, DPTR_DTTM
        	, ARVL_DTTM
        	, DPTR_PORT_CD
        	, LDUN_PORT_CD
        	, LAST_THRG_PORT_CD
        	, TRNP_METH_NAT_CD
        	, SHIP_TTN
        	, SHIP_NTTN
        	, LTSP_YN
        	, CARR_CD
        	, CARR_ADDR_NM
        	, DRVR_NM
        	, DRVR_ADIT_INFO_CN
        	, DEL_YN
        	, FRST_REGST_ID
        	, FRST_RGSR_DTTM
        	, LAST_CHPR_ID
        	, LAST_CHG_DTTM
        )
        SELECT
        	  SLNG_RGSR_NO
	        , #{loadMdfyRqstMgmtNo}
	        , TRNP_MEAN_CD
        	, TRNP_METH_NM
        	, TRNP_METH_IDFY_NO
        	, TRNP_RFER_NO
        	, TRNP_METH_RGSR_DT
        	, IMO_NO
        	, DPTR_DTTM
        	, ARVL_DTTM
        	, DPTR_PORT_CD
        	, LDUN_PORT_CD
        	, LAST_THRG_PORT_CD
        	, TRNP_METH_NAT_CD
        	, SHIP_TTN
        	, SHIP_NTTN
        	, LTSP_YN
        	, CARR_CD
        	, CARR_ADDR_NM
        	, DRVR_NM
        	, DRVR_ADIT_INFO_CN
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_SLNG_INFO A
		WHERE A.DEL_YN = 'N'
		AND A.SLNG_RGSR_NO = #{slngRgsrNo}
    </insert>


    <!--
    Modifier la  déclaration de Demande de chargement(IPT) !==적재신청 정보를 수정한다.(IPT)==!
    -->
    <insert id="insertCarLoadMdfyInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyInt */
        INSERT INTO TB_CARI_LOAD_MDFY (
              LOAD_MDFY_RQST_NO					/** !==적재정정신청번호==! */
            , SLNG_RGSR_NO						/** !==운항등록번호==! */
            , LOAD_MDFY_RQST_MGMT_NO			/** !==적재정정신청관리번호==! */
            , LOAD_RQST_NO						/** !==적재신청번호==! */
            , MDFY_DGCNT						/** !==정정차수==! */

            , TRSN_DTTM							/** Date et heure de envoyé !==전송일시==! */
            , CAG_RQST_TP_CD					/** Code de type de demande de cargaison !==화물신청구분코드==! */
            , JRSD_ORGN_CD						/** Code d'unité compétente !==관할조직코드==! */
            , TRSN_CO_CD						/** Code de compagnie de envoyé !==전송업체코드==! */
            , LOAD_DT							/** Date de chargement !==적재일자==! */
            , ATCH_FILE_ID
            , CAG_DCSH_MDFY_TP_CD				/** !==화물신고서정정구분코드==! */
            , MDFY_RSN_CN						/** !==정정사유내용==! */
            , APRE_YN_CD						/** !==승인여부코드==! */
            , AUDT_OPIN_CN						/** !==심사의견내용==! */
            , DEL_YN                           	/** Suppression ON !==삭제여부==! */
            , FRST_REGST_ID                    	/** ID du premier enregistrant  !==최초등록자ID==! */
            , FRST_RGSR_DTTM                   	/** Date et heure de premier enregistrement !==최초등록일시==! */
            , LAST_CHPR_ID                     	/** ID du modificateur final !==최종변경자ID==! */
            , LAST_CHG_DTTM                    	/** Date et heure de modification finale !==최종변경일시==! */
        )
        SELECT
	          #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO
	        , SLNG_RGSR_NO
	        , #{loadMdfyRqstMgmtNo} AS LOAD_MDFY_RQST_MGMT_NO
			, LOAD_RQST_NO
			, #{mdfyDgcnt} AS MDFY_DGCNT

	        , TRSN_DTTM							/** Date et heure de envoyé !==전송일시==! */
            , DECODE(CAG_RQST_TP_CD,
            	'LCS', 'LMS',
            	'LCA', 'LMA',
            	'LCT', 'LMT',
            	'LCS') AS CAG_RQST_TP_CD		/** Code de type de demande de cargaison !==화물신청구분코드==! */
            , JRSD_ORGN_CD						/** Code d'unité compétente !==관할조직코드==! */
            , TRSN_CO_CD						/** Code de compagnie de envoyé !==전송업체코드==! */
            , LOAD_DT							/** Date de chargement !==적재일자==! */
            , ATCH_FILE_ID
            , '40'
            , 'First'
            , 'O'
            , ''
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
    </insert>

    <!--
    Modifier la  déclaration de Demande de chargement(EPT) !==적재신청 정보를 수정한다.(EPT)==!
    -->
    <insert id="insertCarLoadMdfyExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY (
              LOAD_MDFY_RQST_MGMT_NO			/** !==적재정정신청관리번호==! */
            , LOAD_MDFY_RQST_NO					/** !==적재정정신청번호==! */
            , LOAD_RQST_NO						/** !==적재신청번호==! */
            , MDFY_DGCNT						/** !==정정차수==! */

            , TRSN_DTTM							/** Date et heure de envoyé !==전송일시==! */
            , CAG_RQST_TP_CD					/** Code de type de demande de cargaison !==화물신청구분코드==! */
            , JRSD_ORGN_CD						/** Code d'unité compétente !==관할조직코드==! */
            , TRSN_CO_CD						/** Code de compagnie de envoyé !==전송업체코드==! */
            , LOAD_DT							/** Date de chargement !==적재일자==! */
            , PRCS_DTTM							/** !==처리일시==! */
            , PRCS_STTS_CD                      /** !==처리상태코드==! */
            , ATCH_FILE_ID
            , CAG_DCSH_MDFY_TP_CD				/** !==화물신고서정정구분코드==! */
            , MDFY_RSN_CN						/** !==정정사유내용==! */
            , APRE_YN_CD						/** !==승인여부코드==! */
            , AUDT_OPIN_CN						/** !==심사의견내용==! */
            , DEL_YN                           	/** Suppression ON !==삭제여부==! */
            , FRST_REGST_ID                    	/** ID du premier enregistrant  !==최초등록자ID==! */
            , FRST_RGSR_DTTM                   	/** Date et heure de premier enregistrement !==최초등록일시==! */
            , LAST_CHPR_ID                     	/** ID du modificateur final !==최종변경자ID==! */
            , LAST_CHG_DTTM                    	/** Date et heure de modification finale !==최종변경일시==! */
        )
        SELECT
	          #{loadMdfyRqstMgmtNo} AS LOAD_MDFY_RQST_MGMT_NO
	        , #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO
			, LOAD_RQST_NO
			, #{mdfyDgcnt} AS MDFY_DGCNT

	        , TRSN_DTTM							/** Date et heure de envoyé !==전송일시==! */
            , DECODE(CAG_RQST_TP_CD,
            	'LCS', 'LMS',
            	'LCA', 'LMA',
            	'LCT', 'LMT',
            	'LCS') AS CAG_RQST_TP_CD		/** Code de type de demande de cargaison !==화물신청구분코드==! */
            , JRSD_ORGN_CD						/** Code d'unité compétente !==관할조직코드==! */
            , TRSN_CO_CD						/** Code de compagnie de envoyé !==전송업체코드==! */
            , LOAD_DT							/** Date de chargement !==적재일자==! */
            , SYSTIMESTAMP AS PRCS_DTTM
            , 'D08' AS PRCS_STTS_CD				/** !==처리상태: 승인==! */
            , ATCH_FILE_ID
            , '40'								/** !==정정구분코드: 정상==! */
            , 'First'
            , 'O'								/** !==승인여부: 승인==! */
            , ''
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
    </insert>

    <!--
    Enregistrement de la déclaration de BL/LTA(IPT) !==BL/LTA 내부시스템 등록==!
     -->
    <insert id="insertCarLoadMdfyBlInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
        	, BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */  
	        , BL_NO                   /** N° De Bl !== BL번호 ==! */
	        , HBL_NO                   /** N° de House B/L !== HBL번호 ==! */
	        , CAG_TP_CD               /** Type de flux !== 화물구분코드 ==! */
	        , BL_TP_CD                /** Code De Catégorie De B/L !== BL구분코드 ==! */
	        , BL_PT_CD                /** Code De Type De Bl !== BL유형코드 ==! */
	        , COAT_TRNP_YN			  /** !==연안운송여부==! */
	        , LOAD_REGN_CD            /** Code De Lieu De Chargement !== 적재지역코드 ==! */
	        , LDUN_REGN_CD            /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
	        , IBOBZ_CD                /** !== 보세구역코드 ==! */
	        , STVD_CD                 /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
	        , TRNH_REGN_CD            /** Code De Région De Transbordement !== 환적지역코드 ==! */
	        , CAG_CHRC_CD             /** Nature De Cargaison !== 화물특성코드 ==! */
	        , CAS_NO                  /** Numero CAS !== CAS번호 ==! */
	        , HS_CD                   /** Code Sh !== HS코드 ==! */
	        , SEND_WAY                /** Mode de livraison !== 발송방식 ==! */
	        , PDLS_NM                 /** Nom De L'Article !== 품목명 ==! */
	        , CMDT_KND_CD             /** Nature De Marchandise !== 물품종류코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , NTWG                    /** Poids Net !== 순중량 ==! */
	        , CBM_VOL                 /** Volume (Mtq) !== 입방미터용적 ==! */
	        , LIR_VOL                 /** Volume (Litre) !== 리터용적 ==! */
	        , HDCB_TP_CD              /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
	        , SHMR_CN                 /** Marque De Colis !== 화인내용 ==! */
	        , ADD_INFO_CN             /** Info Supplémentaire !== 부가정보내용 ==! */
	        , CNTR_GCNT               /** Nombre De Conteneurs !== 컨테이너개수 ==! */
	        , VHCL_GCNT               /** Nombre De Véhicules !== 차량개수 ==! */
	        , CMDT_AMT                /** Valeur de marchandise !== 물품금액 ==! */
	        , CMDT_AMT_CURR_CD        /** Article Montant Code de devise !== 물품금액통화코드 ==! */
	        , PRPM_DFPM_CACH_TP_CD	/** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
	        , EXPPN_TXPR_IDFY_NO      /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
	        , EXPPN_NM                /** Nom De L'Exportateur !== 수출자명 ==! */
	        , EXPPN_ADDR_NM           /** Adresse De L'Exportateur !== 수출자주소명 ==! */
	        , EXPPN_TLPH_NO           /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
	        , EXPPN_EML               /** Email De L'Exportateur !== 수출자이메일 ==! */
	        , CNSI_TXPR_IDFY_NO       /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
	        , CNSI_NM                 /** Nom de destinataire !== 수하인명 ==! */
	        , CNSI_ADDR_NM            /** Adresse Du Destinataire !== 수하인주소명 ==! */
	        , CNSI_TLPH_NO            /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
	        , CNSI_EML                /** E-mail de destinataire !== 수하인이메일 ==! */
	        , NTPR_NM                 /** Nom De La Partie À Notifier !== 통지처명 ==! */
	        , NTPR_ADDR_NM            /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
	        , NTPR_TLPH_NO            /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
	        , NTPR_EML                /** Email De La Partie À Notifier !== 통지처이메일 ==! */
	        , BF_CAG_MGMT_NO          /** Crn Précédent !== 이전화물관리번호 ==! */
	        , BL_MDFY_TP_CD           /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
	        , CNSI_TXPR_IDFY_NO_NIN     /** NIN de déstinataire!==수하인납세자식별번호(NIN)==! */ 
	        , EXPPN_TXPR_IDFY_NO_NIN    /** NIN d'exportateur!==수출자납세자식별번호(NIN)==! */   
	        , PCKG_UT_CD                /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , BL_PBLS_DT		        /** Date de delivrance du B/L !==BL발급일자==! */
			, UNDG_ID                   /** Identifiant UNDG !== UNDGID ==! */
			, UNDG_GD_CD 		        /** Code de classe UNDG !== UNDG등급 ==! */
			, CHER_YN 			        /** affréteur d’espace/slot !== 용선여부 ==! */
			, CHER_GVNM_NM 	            /** nom de l’affréteur/slotteur !== 용선이름 ==! */
			, CHER_ADDR_NM  	        /** adresse affréteur/slotteur !== 용선주소 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
        	, BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , BL_NO                   /** N° De Bl !== BL번호 ==! */
	        , HBL_NO                   /** N° de House B/L !== HBL번호 ==! */
	        , CAG_TP_CD               /** Type de flux !== 화물구분코드 ==! */
	        , BL_TP_CD                /** Code De Catégorie De B/L !== BL구분코드 ==! */
	        , BL_PT_CD                /** Code De Type De Bl !== BL유형코드 ==! */
	        , COAT_TRNP_YN			  /** !==연안운송여부==! */
	        , LOAD_REGN_CD            /** Code De Lieu De Chargement !== 적재지역코드 ==! */
	        , LDUN_REGN_CD            /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
	        , IBOBZ_CD                /** !== 보세구역코드 ==! */
	        , STVD_CD                 /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
	        , TRNH_REGN_CD            /** Code De Région De Transbordement !== 환적지역코드 ==! */
	        , CAG_CHRC_CD             /** Nature De Cargaison !== 화물특성코드 ==! */
	        , CAS_NO                  /** Numero CAS !== CAS번호 ==! */
	        , HS_CD                   /** Code Sh !== HS코드 ==! */
	        , SEND_WAY                /** Mode de livraison !== 발송방식 ==! */
	        , PDLS_NM                 /** Nom De L'Article !== 품목명 ==! */
	        , CMDT_KND_CD             /** Nature De Marchandise !== 물품종류코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , NTWG                    /** Poids Net !== 순중량 ==! */
	        , CBM_VOL                 /** Volume (Mtq) !== 입방미터용적 ==! */
	        , LIR_VOL                 /** Volume (Litre) !== 리터용적 ==! */
	        , HDCB_TP_CD              /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
	        , SHMR_CN                 /** Marque De Colis !== 화인내용 ==! */
	        , ADD_INFO_CN             /** Info Supplémentaire !== 부가정보내용 ==! */
	        , CNTR_GCNT               /** Nombre De Conteneurs !== 컨테이너개수 ==! */
	        , VHCL_GCNT               /** Nombre De Véhicules !== 차량개수 ==! */
	        , CMDT_AMT                /** Valeur de marchandise !== 물품금액 ==! */
	        , CMDT_AMT_CURR_CD        /** Article Montant Code de devise !== 물품금액통화코드 ==! */
	        , PRPM_DFPM_CACH_TP_CD	/** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
	        , EXPPN_TXPR_IDFY_NO      /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
	        , EXPPN_NM                /** Nom De L'Exportateur !== 수출자명 ==! */
	        , EXPPN_ADDR_NM           /** Adresse De L'Exportateur !== 수출자주소명 ==! */
	        , EXPPN_TLPH_NO           /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
	        , EXPPN_EML               /** Email De L'Exportateur !== 수출자이메일 ==! */
	        , CNSI_TXPR_IDFY_NO       /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
	        , CNSI_NM                 /** Nom de destinataire !== 수하인명 ==! */
	        , CNSI_ADDR_NM            /** Adresse Du Destinataire !== 수하인주소명 ==! */
	        , CNSI_TLPH_NO            /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
	        , CNSI_EML                /** E-mail de destinataire !== 수하인이메일 ==! */
	        , NTPR_NM                 /** Nom De La Partie À Notifier !== 통지처명 ==! */
	        , NTPR_ADDR_NM            /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
	        , NTPR_TLPH_NO            /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
	        , NTPR_EML                /** Email De La Partie À Notifier !== 통지처이메일 ==! */
	        , BF_CAG_MGMT_NO          /** Crn Précédent !== 이전화물관리번호 ==! */
	        , BL_MDFY_TP_CD           /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
	        , CNSI_TXPR_IDFY_NO_NIN     /** NIN de déstinataire!==수하인납세자식별번호(NIN)==! */ 
	        , EXPPN_TXPR_IDFY_NO_NIN    /** NIN d'exportateur!==수출자납세자식별번호(NIN)==! */   
	        , PCKG_UT_CD                /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , BL_PBLS_DT		        /** Date de delivrance du B/L !==BL발급일자==! */
			, UNDG_ID                   /** Identifiant UNDG !== UNDGID ==! */
			, UNDG_GD_CD 		        /** Code de classe UNDG !== UNDG등급 ==! */
			, CHER_YN 			        /** affréteur d’espace/slot !== 용선여부 ==! */
			, CHER_GVNM_NM 	            /** nom de l’affréteur/slotteur !== 용선이름 ==! */
			, CHER_ADDR_NM  	        /** adresse affréteur/slotteur !== 용선주소 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_NO
    </insert>

    <!--
    Enregistrer le BL/LTA dans le système interne(EPT) !==BL/LTA 외부시스템 등록==!
     -->
    <insert id="insertCarLoadMdfyBlExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
        	, BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */  
	        , BL_NO                   /** N° De Bl !== BL번호 ==! */
	        , HBL_NO                   /** N° de House B/L !== HBL번호 ==! */
	        , CAG_TP_CD               /** Type de flux !== 화물구분코드 ==! */
	        , BL_TP_CD                /** Code De Catégorie De B/L !== BL구분코드 ==! */
	        , BL_PT_CD                /** Code De Type De Bl !== BL유형코드 ==! */
	        , COAT_TRNP_YN			  /** !==연안운송여부==! */
	        , LOAD_REGN_CD            /** Code De Lieu De Chargement !== 적재지역코드 ==! */
	        , LDUN_REGN_CD            /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
	        , IBOBZ_CD                /** !== 보세구역코드 ==! */
	        , STVD_CD                 /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
	        , TRNH_REGN_CD            /** Code De Région De Transbordement !== 환적지역코드 ==! */
	        , CAG_CHRC_CD             /** Nature De Cargaison !== 화물특성코드 ==! */
	        , CAS_NO                  /** Numero CAS !== CAS번호 ==! */
	        , HS_CD                   /** Code Sh !== HS코드 ==! */
	        , SEND_WAY                /** Mode de livraison !== 발송방식 ==! */
	        , PDLS_NM                 /** Nom De L'Article !== 품목명 ==! */
	        , CMDT_KND_CD             /** Nature De Marchandise !== 물품종류코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , NTWG                    /** Poids Net !== 순중량 ==! */
	        , CBM_VOL                 /** Volume (Mtq) !== 입방미터용적 ==! */
	        , LIR_VOL                 /** Volume (Litre) !== 리터용적 ==! */
	        , HDCB_TP_CD              /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
	        , SHMR_CN                 /** Marque De Colis !== 화인내용 ==! */
	        , ADD_INFO_CN             /** Info Supplémentaire !== 부가정보내용 ==! */
	        , CNTR_GCNT               /** Nombre De Conteneurs !== 컨테이너개수 ==! */
	        , VHCL_GCNT               /** Nombre De Véhicules !== 차량개수 ==! */
	        , CMDT_AMT                /** Valeur de marchandise !== 물품금액 ==! */
	        , CMDT_AMT_CURR_CD        /** Article Montant Code de devise !== 물품금액통화코드 ==! */
	        , PRPM_DFPM_CACH_TP_CD	/** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
	        , EXPPN_TXPR_IDFY_NO      /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
	        , EXPPN_NM                /** Nom De L'Exportateur !== 수출자명 ==! */
	        , EXPPN_ADDR_NM           /** Adresse De L'Exportateur !== 수출자주소명 ==! */
	        , EXPPN_TLPH_NO           /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
	        , EXPPN_EML               /** Email De L'Exportateur !== 수출자이메일 ==! */
	        , CNSI_TXPR_IDFY_NO       /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
	        , CNSI_NM                 /** Nom de destinataire !== 수하인명 ==! */
	        , CNSI_ADDR_NM            /** Adresse Du Destinataire !== 수하인주소명 ==! */
	        , CNSI_TLPH_NO            /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
	        , CNSI_EML                /** E-mail de destinataire !== 수하인이메일 ==! */
	        , NTPR_NM                 /** Nom De La Partie À Notifier !== 통지처명 ==! */
	        , NTPR_ADDR_NM            /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
	        , NTPR_TLPH_NO            /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
	        , NTPR_EML                /** Email De La Partie À Notifier !== 통지처이메일 ==! */
	        , BF_CAG_MGMT_NO          /** Crn Précédent !== 이전화물관리번호 ==! */
	        , BL_MDFY_TP_CD           /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
	        , CNSI_TXPR_IDFY_NO_NIN     /** NIN de déstinataire!==수하인납세자식별번호(NIN)==! */ 
	        , EXPPN_TXPR_IDFY_NO_NIN    /** NIN d'exportateur!==수출자납세자식별번호(NIN)==! */   
	        , PCKG_UT_CD                /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , BL_PBLS_DT		        /** Date de delivrance du B/L !==BL발급일자==! */
			, UNDG_ID                   /** Identifiant UNDG !== UNDGID ==! */
			, UNDG_GD_CD 		        /** Code de classe UNDG !== UNDG등급 ==! */
			, CHER_YN 			        /** affréteur d’espace/slot !== 용선여부 ==! */
			, CHER_GVNM_NM 	            /** nom de l’affréteur/slotteur !== 용선이름 ==! */
			, CHER_ADDR_NM  	        /** adresse affréteur/slotteur !== 용선주소 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
        	, BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */  
	        , BL_NO                   /** N° De Bl !== BL번호 ==! */
	        , HBL_NO                   /** N° de House B/L !== HBL번호 ==! */
	        , CAG_TP_CD               /** Type de flux !== 화물구분코드 ==! */
	        , BL_TP_CD                /** Code De Catégorie De B/L !== BL구분코드 ==! */
	        , BL_PT_CD                /** Code De Type De Bl !== BL유형코드 ==! */
	        , COAT_TRNP_YN			  /** !==연안운송여부==! */
	        , LOAD_REGN_CD            /** Code De Lieu De Chargement !== 적재지역코드 ==! */
	        , LDUN_REGN_CD            /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
	        , IBOBZ_CD                /** !== 보세구역코드 ==! */
	        , STVD_CD                 /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
	        , TRNH_REGN_CD            /** Code De Région De Transbordement !== 환적지역코드 ==! */
	        , CAG_CHRC_CD             /** Nature De Cargaison !== 화물특성코드 ==! */
	        , CAS_NO                  /** Numero CAS !== CAS번호 ==! */
	        , HS_CD                   /** Code Sh !== HS코드 ==! */
	        , SEND_WAY                /** Mode de livraison !== 발송방식 ==! */
	        , PDLS_NM                 /** Nom De L'Article !== 품목명 ==! */
	        , CMDT_KND_CD             /** Nature De Marchandise !== 물품종류코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , NTWG                    /** Poids Net !== 순중량 ==! */
	        , CBM_VOL                 /** Volume (Mtq) !== 입방미터용적 ==! */
	        , LIR_VOL                 /** Volume (Litre) !== 리터용적 ==! */
	        , HDCB_TP_CD              /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
	        , SHMR_CN                 /** Marque De Colis !== 화인내용 ==! */
	        , ADD_INFO_CN             /** Info Supplémentaire !== 부가정보내용 ==! */
	        , CNTR_GCNT               /** Nombre De Conteneurs !== 컨테이너개수 ==! */
	        , VHCL_GCNT               /** Nombre De Véhicules !== 차량개수 ==! */
	        , CMDT_AMT                /** Valeur de marchandise !== 물품금액 ==! */
	        , CMDT_AMT_CURR_CD        /** Article Montant Code de devise !== 물품금액통화코드 ==! */
	        , PRPM_DFPM_CACH_TP_CD	/** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
	        , EXPPN_TXPR_IDFY_NO      /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
	        , EXPPN_NM                /** Nom De L'Exportateur !== 수출자명 ==! */
	        , EXPPN_ADDR_NM           /** Adresse De L'Exportateur !== 수출자주소명 ==! */
	        , EXPPN_TLPH_NO           /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
	        , EXPPN_EML               /** Email De L'Exportateur !== 수출자이메일 ==! */
	        , CNSI_TXPR_IDFY_NO       /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
	        , CNSI_NM                 /** Nom de destinataire !== 수하인명 ==! */
	        , CNSI_ADDR_NM            /** Adresse Du Destinataire !== 수하인주소명 ==! */
	        , CNSI_TLPH_NO            /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
	        , CNSI_EML                /** E-mail de destinataire !== 수하인이메일 ==! */
	        , NTPR_NM                 /** Nom De La Partie À Notifier !== 통지처명 ==! */
	        , NTPR_ADDR_NM            /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
	        , NTPR_TLPH_NO            /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
	        , NTPR_EML                /** Email De La Partie À Notifier !== 통지처이메일 ==! */
	        , BF_CAG_MGMT_NO          /** Crn Précédent !== 이전화물관리번호 ==! */
	        , BL_MDFY_TP_CD           /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
	        , CNSI_TXPR_IDFY_NO_NIN     /** NIN de déstinataire!==수하인납세자식별번호(NIN)==! */ 
	        , EXPPN_TXPR_IDFY_NO_NIN    /** NIN d'exportateur!==수출자납세자식별번호(NIN)==! */   
	        , PCKG_UT_CD                /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , BL_PBLS_DT		        /** Date de delivrance du B/L !==BL발급일자==! */
			, UNDG_ID                   /** Identifiant UNDG !== UNDGID ==! */
			, UNDG_GD_CD 		        /** Code de classe UNDG !== UNDG등급 ==! */
			, CHER_YN 			        /** affréteur d’espace/slot !== 용선여부 ==! */
			, CHER_GVNM_NM 	            /** nom de l’affréteur/slotteur !== 용선이름 ==! */
			, CHER_ADDR_NM  	        /** adresse affréteur/slotteur !== 용선주소 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_NO
    </insert>

    <!--
    Enregistrement de la déclaration de Conteneur(IPT) !==컨테이너 정보를 저장한다(IPT)==!
     -->
    <insert id="insertCarLoadMdfyBlCntrInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlCntrInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL_CNTR (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , CNTR_SRNO               /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
	        , CNTR_NO                 /** N° De Conteneur !== 컨테이너번호 ==! */
	        , CNTR_TP_CD              /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , SEAL_NO1                /** N° De Scellé1 !== 봉인번호1 ==! */
	        , SEAL_NO2                /** N° De Scellé1 !== 봉인번호2 ==! */
	        , SEAL_NO3                /** N° De Scellé3 !== 봉인번호3 ==! */
	        , SEAL_CHPN1              /** Responsable de scellé 1 !== 봉인담당자1 ==! */
	        , SEAL_CHPN2              /** Responsable de scellé 2 !== 봉인담당자2 ==! */
	        , SEAL_CHPN3              /** Responsable de scellé 3 !== 봉인담당자3 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.CNTR_SRNO               /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
			, A.CNTR_NO                 /** N° De Conteneur !== 컨테이너번호 ==! */
	        , A.CNTR_TP_CD              /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
	        , A.PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , A.PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , A.ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , A.TTWG                    /** Poids Brut !== 총중량 ==! */
	        , A.SEAL_NO1                /** N° De Scellé1 !== 봉인번호1 ==! */
	        , A.SEAL_NO2                /** N° De Scellé1 !== 봉인번호2 ==! */
	        , A.SEAL_NO3                /** N° De Scellé3 !== 봉인번호3 ==! */
	        , A.SEAL_CHPN1              /** Responsable de scellé 1 !== 봉인담당자1 ==! */
	        , A.SEAL_CHPN2              /** Responsable de scellé 2 !== 봉인담당자2 ==! */
	        , A.SEAL_CHPN3              /** Responsable de scellé 3 !== 봉인담당자3 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_CNTR A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.CNTR_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Conteneur(EPT) !==컨테이너 정보를 저장한다(EPT)==!
     -->
    <insert id="insertCarLoadMdfyBlCntrExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlCntrExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL_CNTR (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , CNTR_SRNO               /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
	        , CNTR_NO                 /** N° De Conteneur !== 컨테이너번호 ==! */
	        , CNTR_TP_CD              /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , SEAL_NO1                /** N° De Scellé1 !== 봉인번호1 ==! */
	        , SEAL_NO2                /** N° De Scellé1 !== 봉인번호2 ==! */
	        , SEAL_NO3                /** N° De Scellé3 !== 봉인번호3 ==! */
	        , SEAL_CHPN1              /** Responsable de scellé 1 !== 봉인담당자1 ==! */
	        , SEAL_CHPN2              /** Responsable de scellé 2 !== 봉인담당자2 ==! */
	        , SEAL_CHPN3              /** Responsable de scellé 3 !== 봉인담당자3 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.CNTR_SRNO               /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
			, A.CNTR_NO                 /** N° De Conteneur !== 컨테이너번호 ==! */
	        , A.CNTR_TP_CD              /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
	        , A.PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , A.PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , A.ECNTR_WGHT              /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
	        , A.TTWG                    /** Poids Brut !== 총중량 ==! */
	        , A.SEAL_NO1                /** N° De Scellé1 !== 봉인번호1 ==! */
	        , A.SEAL_NO2                /** N° De Scellé1 !== 봉인번호2 ==! */
	        , A.SEAL_NO3                /** N° De Scellé3 !== 봉인번호3 ==! */
	        , A.SEAL_CHPN1              /** Responsable de scellé 1 !== 봉인담당자1 ==! */
	        , A.SEAL_CHPN2              /** Responsable de scellé 2 !== 봉인담당자2 ==! */
	        , A.SEAL_CHPN3              /** Responsable de scellé 3 !== 봉인담당자3 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_CNTR A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.CNTR_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Accomplissement d'exportation(IPT) !==수출이행 정보를 저장한다(IPT)==!
     -->
    <insert id="insertCarLoadMdfyBlExfmInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlExfmInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL_EXFM (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , EXP_FFMN_SRNO           /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
	        , EXP_FFMN_TP_CD          /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
	        , EXP_CMDT_BRNG_PERM_NO   /** N° autorisation de l'introduction des marchandises à exporter !== 수출물품반입허가번호 ==! */
	        , EXP_FFMN_NO             /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
	        , DIVD_SHPM_YN            /** Chargement Partiel On !== 분할선적여부 ==! */
	        , DIVD_SHPM_DGCNT         /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
	        , DIVD_SHPM_LAST_YN       /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.EXP_FFMN_SRNO           /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
	        , A.EXP_FFMN_TP_CD          /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
	        , A.EXP_CMDT_BRNG_PERM_NO   /** N° autorisation de l'introduction des marchandises à exporter !== 수출물품반입허가번호 ==! */
	        , A.EXP_FFMN_NO             /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
	        , A.DIVD_SHPM_YN            /** Chargement Partiel On !== 분할선적여부 ==! */
	        , A.DIVD_SHPM_DGCNT         /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
	        , A.DIVD_SHPM_LAST_YN       /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
	        , A.PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , A.PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , A.TTWG                    /** Poids Brut !== 총중량 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_EXFM A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.EXP_FFMN_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Accomplissement d'exportation(EPT) !==수출이행 정보를 저장한다(EPT)==!
     -->
    <insert id="insertCarLoadMdfyBlExfmExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlExfmExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL_EXFM (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , EXP_FFMN_SRNO           /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
	        , EXP_FFMN_TP_CD          /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
	        , EXP_CMDT_BRNG_PERM_NO   /** N° autorisation de l'introduction des marchandises à exporter !== 수출물품반입허가번호 ==! */
	        , EXP_FFMN_NO             /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
	        , DIVD_SHPM_YN            /** Chargement Partiel On !== 분할선적여부 ==! */
	        , DIVD_SHPM_DGCNT         /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
	        , DIVD_SHPM_LAST_YN       /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
	        , PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , TTWG                    /** Poids Brut !== 총중량 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.EXP_FFMN_SRNO           /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
	        , A.EXP_FFMN_TP_CD          /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
	        , A.EXP_CMDT_BRNG_PERM_NO   /** N° autorisation de l'introduction des marchandises à exporter !== 수출물품반입허가번호 ==! */
	        , A.EXP_FFMN_NO             /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
	        , A.DIVD_SHPM_YN            /** Chargement Partiel On !== 분할선적여부 ==! */
	        , A.DIVD_SHPM_DGCNT         /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
	        , A.DIVD_SHPM_LAST_YN       /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
	        , A.PCKG_GCNT               /** Nombre De Colis !== 포장개수 ==! */
	        , A.PCKG_UT_CD              /** Code De L'Unité De Colis !== 포장단위코드 ==! */
	        , A.TTWG                    /** Poids Brut !== 총중량 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_EXFM A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.EXP_FFMN_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Remorque(IPT) !==트레일러 정보를 저장한다(IPT)==!
     -->
    <insert id="insertCarLoadMdfyBlTrlrInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlTrlrInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL_TRLR (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , TRLR_SRNO               /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
	        , VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , TRLR_STSZ               /** Gabarit De Remorque !== 트레일러규격 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.TRLR_SRNO               /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
	        , A.VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , A.CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , A.TRLR_STSZ               /** Gabarit De Remorque !== 트레일러규격 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_TRLR A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.TRLR_SRNO
    </insert>

    <!--
   Enregistrement de la déclaration de Remorque(EPT) !==트레일러 정보를 저장한다(EPT)==!
     -->
    <insert id="insertCarLoadMdfyBlTrlrExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlTrlrExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL_TRLR (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , TRLR_SRNO               /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
	        , VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , TRLR_STSZ               /** Gabarit De Remorque !== 트레일러규격 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.TRLR_SRNO               /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
	        , A.VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , A.CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , A.TRLR_STSZ               /** Gabarit De Remorque !== 트레일러규격 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_TRLR A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.TRLR_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Train(IPT) !==열차 정보를 저장한다(IPT)==!
     -->
    <insert id="insertCarLoadMdfyBlTrnInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlTrnInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL_TRN (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , TRN_SRNO                /** numéro de série du train !== 열차일련번호 ==! */
	        , TRN_RGSR_NO                  /** N° De Train !== 열차번호 ==! */
	        , WGN_NO                  /** N° De Wagon !== 왜건번호 ==! */
	        , WGN_TYPE                /** type de wagon !== 왜건타입 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.TRN_SRNO                /** numéro de série du train !== 열차일련번호 ==! */
	        , A.TRN_RGSR_NO             /** N° De Train !== 열차번호 ==! */
	        , A.WGN_NO                  /** N° De Wagon !== 왜건번호 ==! */
	        , A.WGN_TYPE                /** type de wagon !== 왜건타입 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_TRN A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.TRN_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Train(EPT) !==열차 정보를 저장한다(EPT)==!
     -->
    <insert id="insertCarLoadMdfyBlTrnExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlTrnExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL_TRN (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , TRN_SRNO                /** numéro de série du train !== 열차일련번호 ==! */
	        , TRN_RGSR_NO                  /** N° De Train !== 열차번호 ==! */
	        , WGN_NO                  /** N° De Wagon !== 왜건번호 ==! */
	        , WGN_TYPE                /** type de wagon !== 왜건타입 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.TRN_SRNO                /** numéro de série du train !== 열차일련번호 ==! */
	        , A.TRN_RGSR_NO             /** N° De Train !== 열차번호 ==! */
	        , A.WGN_NO                  /** N° De Wagon !== 왜건번호 ==! */
	        , A.WGN_TYPE                /** type de wagon !== 왜건타입 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_TRN A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.TRN_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Véhicule(IPT) !==차량 정보를 저장한다(IPT)==!
     -->
    <insert id="insertCarLoadMdfyBlVhclInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlVhclInt */
        INSERT INTO TB_CARI_LOAD_MDFY_BL_VHCL (
        	  LOAD_MDFY_RQST_NO		  /** !==적재정정신청번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , VHCL_SRNO               /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
	        , CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , VHCL_MNUR_CD            /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
	        , VHCL_MDL_CD             /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
	        , VHCL_KND_NM             /** Type De Véhicule !== 차량종류명 ==! */
	        , VHCL_MNFC_YY            /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
	        , ENGN_CLND_GCNT          /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
	        , VHCL_TOTL_WGHT          /** Poids total en charge !== 차량총중량 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.VHCL_SRNO               /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
	        , A.CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , A.VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , A.VHCL_MNUR_CD            /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
	        , A.VHCL_MDL_CD             /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
	        , A.VHCL_KND_NM             /** Type De Véhicule !== 차량종류명 ==! */
	        , A.VHCL_MNFC_YY            /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
	        , A.ENGN_CLND_GCNT          /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
	        , A.VHCL_TOTL_WGHT          /** Poids total en charge !== 차량총중량 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_VHCL A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.VHCL_SRNO
    </insert>

    <!--
    Enregistrement de la déclaration de Véhicule(EPT) !==차량 정보를 저장한다(EPT)==!
     -->
    <insert id="insertCarLoadMdfyBlVhclExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlVhclExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_BL_VHCL (
        	  LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
	        , BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , VHCL_SRNO               /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
	        , CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , VHCL_MNUR_CD            /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
	        , VHCL_MDL_CD             /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
	        , VHCL_KND_NM             /** Type De Véhicule !== 차량종류명 ==! */
	        , VHCL_MNFC_YY            /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
	        , ENGN_CLND_GCNT          /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
	        , VHCL_TOTL_WGHT          /** Poids total en charge !== 차량총중량 ==! */
	        , DEL_YN
            , FRST_REGST_ID
            , FRST_RGSR_DTTM
            , LAST_CHPR_ID
            , LAST_CHG_DTTM
        )
        SELECT
        	  #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
	        , A.BL_SRNO                 /** N° De Séquence De Ble !== BL일련번호 ==! */
	        , A.VHCL_SRNO               /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
	        , A.CHSS_NO                 /** N° De Châssis !== 차대번호 ==! */
	        , A.VHCL_RGSR_NO            /** VOYAGE VEHICULES VEHICULE NUMERO_IMMATRICULATION !== 차량등록번호 ==! */
	        , A.VHCL_MNUR_CD            /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
	        , A.VHCL_MDL_CD             /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
	        , A.VHCL_KND_NM             /** Type De Véhicule !== 차량종류명 ==! */
	        , A.VHCL_MNFC_YY            /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
	        , A.ENGN_CLND_GCNT          /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
	        , A.VHCL_TOTL_WGHT          /** Poids total en charge !== 차량총중량 ==! */
			, 'N' AS DEL_YN
			, 'SYSTEM' AS FRST_REGST_ID
			, SYSTIMESTAMP AS FRST_RGSR_DTTM
			, 'SYSTEM' AS LAST_CHPR_ID
			, SYSTIMESTAMP AS LAST_CHG_DTTM
		FROM TB_CARI_LOAD_BL_VHCL A
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_RQST_NO = #{loadRqstNo}
		ORDER BY A.BL_SRNO, A.VHCL_SRNO
    </insert>
    
    
    <!--
     Voir la liste des Demande de Info du transport !==운송정보 목록 조회한다.==!
    -->
    <sql id ="selectCarLoadMdfySlngInfo">
        SELECT
              A.LOAD_MDFY_RQST_NO                /** !==적재정정신청관리번호==! */
			, A.SLNG_RGSR_NO                          /** !==운항등록번호==! */
			, A.TRNP_MEAN_CD                       	/** !==운송방법코드==! */
			, A.TRNP_METH_NM                       	/** !==운송수단명==! */
			, A.TRNP_METH_IDFY_NO                  	/** !==운송수단식별번호==! */
			, A.TRNP_RFER_NO                       	/** !==운송참고번호==! */
			, TO_CHAR(TO_DATE(A.TRNP_METH_RGSR_DT, 'YYYYMMDD'), 'DD/MM/YYYY') AS TRNP_METH_RGSR_DT /** !==운송수단등록일자==! */
			, A.IMO_NO
			, CASE
		        WHEN A.TRNP_MEAN_CD = '20' THEN TO_CHAR(DPTR_DTTM,'DD/MM/YYYY HH24:MI')	/** !==출발일시(항공)==! */
		        WHEN A.TRNP_MEAN_CD = '30' THEN TO_CHAR(DPTR_DTTM,'DD/MM/YYYY HH24:MI')	/** !==출발일시(육상)==! */
		        ELSE TO_CHAR(A.DPTR_DTTM,'DD/MM/YYYY') /** Date et heure de départ !==출발일시==! */
		      END AS DPTR_DTTM
			, CASE
		        WHEN A.TRNP_MEAN_CD = '20' THEN TO_CHAR(ARVL_DTTM,'DD/MM/YYYY HH24:MI')	/** !==도착일시(항공)==! */
		        WHEN A.TRNP_MEAN_CD = '30' THEN TO_CHAR(ARVL_DTTM,'DD/MM/YYYY HH24:MI')	/** !==도착일시(육상)==! */
		        ELSE TO_CHAR(A.ARVL_DTTM,'DD/MM/YYYY') /** Date et heure d'arrivée !==도착일시==! */
		      END AS ARVL_DTTM
			, A.DPTR_PORT_CD                       	/** !==출발항구코드==! */
			, FN_CARE_GET_PORT_AIRPT_CITY_CD_NM(A.DPTR_PORT_CD, #{langCd}) AS DPTR_PORT_NM	/** !==출발항구명==! */
			, A.LDUN_PORT_CD                       	/** !==하역항구코드==! */
			, FN_CARE_GET_PORT_AIRPT_CITY_CD_NM(A.LDUN_PORT_CD, #{langCd}) AS LDUN_PORT_NM	/** !==하역항구명==! */
			, A.LAST_THRG_PORT_CD                      	/** !==최종하역항구코드==! */
			, FN_CARE_GET_PORT_AIRPT_CITY_CD_NM(A.LAST_THRG_PORT_CD, #{langCd}) AS LAST_THRG_PORT_NM	/** !==최종하역항구명==! */
			, A.TRNP_METH_NAT_CD                   	/** !==운송수단국적코드==! */
			, A.SHIP_TTN		/** 선박총톤수 */
            , A.SHIP_NTTN		/** 선박순톤수 */
            , A.LTSP_YN		/** 공선여부 */
            , A.CARR_CD		/** 운송사코드 */
            , ( SELECT DISTINCT(CO_NM)
                      FROM TB_COM_CO T1
                         , TB_COM_CO_DCLR_CD T2
                     WHERE T1.NIF = T2.NIF
                       AND T2.CARR_CD = A.CARR_CD
                       AND T2.DEL_YN = 'N'
                       AND T2.USE_YN = 'Y'
                       LIMIT 1
                  ) AS CARR_NM        /** Nom de société de transport !==운송사명==! */
            , A.CARR_ADDR_NM	/** 운송사주소명 */
            , A.DRVR_NM		/** 운전자명 */
            , A.DRVR_ADIT_INFO_CN	/** 운전자 추가정보 */
            , B.ATCH_FILE_ID 
            , B.MDFY_DGCNT
		FROM TB_CARI_LOAD_MDFY_SLNG_INFO A , TB_CARI_LOAD_MDFY B
		WHERE A.DEL_YN = 'N'
		AND A.LOAD_MDFY_RQST_NO = B.LOAD_MDFY_RQST_NO 
    </sql>
    
   <!--
   Voir la liste des Demande de Info du transport (Avant rectification) !==운송정보 목록 조회 (정정 전)==!
    -->
    <select id="selectCarLoadMdfyAfterSlngInfo"
            parameterType="alpass.ipt.car.load.vo.CarLoadVo"
            resultType="alpass.ipt.car.load.vo.CarLoadVo">
        /* selectCarLoadMdfyAfterSlngInfo */
        <include refid="selectCarLoadMdfySlngInfo"></include>
			     AND A.LOAD_MDFY_RQST_NO = #{loadMdfyRqstNo}
    </select>
    
    
    
    <!--
    Voir la liste des Demande de Info du transport (Après rectification) !==운송정보 목록 조회(정정 후)==!
    -->
    <select id="selectCarLoadMdfyBeforeSlngInfo"
            parameterType="alpass.ipt.car.load.vo.CarLoadVo"
            resultType="alpass.ipt.car.load.vo.CarLoadVo">
        /* selectCarLoadMdfyBeforeSlngInfo */
        <include refid="selectCarLoadMdfySlngInfo"></include>
				 AND B.LOAD_RQST_NO = #{loadRqstNo}
			     AND B.MDFY_DGCNT &lt; #{mdfyDgcnt}
			     ORDER BY B.MDFY_DGCNT DESC
	             LIMIT 1                              
    </select>
    
    
    
    <!--
    Non utilisé !==사용안함==!
     -->
    <insert id="insertCarLoadMdfyTrnpInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyTrnpInt */
        INSERT INTO TB_CARI_LOAD_MDFY_TRNP (
                LOAD_MDFY_RQST_NO    /** !==적재정정신청번호==! */
        	  , SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT
                #{loadMdfyRqstNo}	AS LOAD_MDFY_RQST_NO	/** !==적재정정신청번호==! */
        	  , SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
		FROM TB_CARI_LOAD_TRNP A
		WHERE A.DEL_YN = 'N'
		AND SLNG_RGSR_NO = #{slngRgsrNo}
    </insert>

    <!--
     Non utilisé !==사용안함==!
     -->
    <insert id="insertCarLoadMdfyTrnpExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadMdfyBlVhclExt */
          INSERT INTO ALPASSEXT.TB_CARE_LOAD_MDFY_TRNP (
                LOAD_MDFY_RQST_MGMT_NO  /** !==적재정정신청관리번호==! */
        	  , SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT
                #{loadMdfyRqstMgmtNo}	AS LOAD_MDFY_RQST_MGMT_NO	/** !==적재정정신청관리번호==! */
        	  , SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
		FROM TB_CARI_LOAD_TRNP A
		WHERE A.DEL_YN = 'N'
		AND SLNG_RGSR_NO = #{slngRgsrNo}
    </insert>
    
    
    <!--
    Non utilisé !==사용안함==!
    -->
    <select id="selectCarLoadMdfyTrnpList" parameterType="alpass.ipt.car.load.vo.CarLoadVo" resultType="alpass.ipt.car.load.vo.CarLoadTrnpVo">
        /* selectCarLoadMdfyTrnpList */
        SELECT    slng_rgsr_no                          /** !==운항등록번호==! */
                , load_mdfy_rqst_no                     /** !== 적재정정신청번호 ==! */
                , vhcl_srno                             /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
                , chss_no                               /** N° De Châssis !== 차대번호 ==! */
                , vhcl_rgsr_no                          /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
                , vhcl_pt_cd                            /** Code de type de véhicule !== 차량유형코드 ==! */
                , vhcl_ttn                              /** Tonnage brut du véhicule !== 차량총톤수 ==! */
                , vhcl_nttn                             /** Tonnage net du véhicule !== 차량순톤수 ==! */
                , drvr_nm                               /** Nom de conducteur !== 운전자명 ==! */
                , drvr_pspr_no                                          /** N° de passeport de conducteur !== 운전자여권번호 ==! */
                , del_yn                                                /** Suppression On !== 삭제여부 ==! */
                , frst_regst_id                                         /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
                , TO_CHAR(frst_rgsr_dttm,'DD/MM/YYYY HH24:MI:SS')     /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
                , last_chpr_id                                        /** Id Du Modificateur Final !== 최종변경자ID ==! */
                , TO_CHAR(last_chg_dttm,'DD/MM/YYYY HH24:MI:SS')      /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             FROM TB_CARI_LOAD_MDFY_TRNP 
             WHERE del_yn = 'N'                                         /** Suppression ON !== 삭제여부 ==! */
             AND load_mdfy_rqst_no = #{loadMdfyRqstNo}
    </select>
    
    
   <!--
    Modifier la  déclaration de Info du transport (IPT) !==운송정보 정보를 수정한다.(IPT)==!
    -->
    <update id="updateSlngInfoCarLoadInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* updateSlngInfoCarLoadInt */
        UPDATE TB_CARI_LOAD_SLNG_INFO AS A SET
				  A.TRNP_MEAN_CD        = B.TRNP_MEAN_CD
				, A.TRNP_METH_NM        = B.TRNP_METH_NM
				, A.TRNP_METH_IDFY_NO   = B.TRNP_METH_IDFY_NO
				, A.TRNP_RFER_NO        = B.TRNP_RFER_NO
				, A.TRNP_METH_RGSR_DT   = B.TRNP_METH_RGSR_DT
				, A.IMO_NO              = B.IMO_NO
				, A.DPTR_DTTM           = B.DPTR_DTTM
				, A.ARVL_DTTM           = B.ARVL_DTTM
				, A.DPTR_PORT_CD        = B.DPTR_PORT_CD
				, A.LDUN_PORT_CD        = B.LDUN_PORT_CD
				, A.LAST_THRG_PORT_CD   = B.LAST_THRG_PORT_CD
				, A.TRNP_METH_NAT_CD    = B.TRNP_METH_NAT_CD
				, A.SHIP_TTN            = B.SHIP_TTN
				, A.SHIP_NTTN           = B.SHIP_NTTN
				, A.LTSP_YN             = B.LTSP_YN
				, A.CARR_CD             = B.CARR_CD
				, A.CARR_ADDR_NM        = B.CARR_ADDR_NM
				, A.DRVR_NM             = B.DRVR_NM
				, A.DRVR_ADIT_INFO_CN   = B.DRVR_ADIT_INFO_CN
				, A.DEL_YN              = B.DEL_YN
				, A.LAST_CHPR_ID        = B.LAST_CHPR_ID
				, A.LAST_CHG_DTTM       = B.LAST_CHG_DTTM
			FROM TB_CARI_LOAD_MDFY_SLNG_INFO AS B
			WHERE A.SLNG_RGSR_NO = B.SLNG_RGSR_NO 
            AND load_mdfy_rqst_no = #{loadMdfyRqstNo}
    </update>
   <!--
    Modifier la  déclaration de Info du transport (EPT) !==운송정보 정보를 수정한다.(EPT)==!
    -->
    <update id="updateSlngInfoCarLoadExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* updateSlngInfoCarLoadExt */
        UPDATE ALPASSEXT.TB_CARE_LOAD_SLNG_INFO AS A SET
				  A.TRNP_MEAN_CD        = B.TRNP_MEAN_CD
				, A.TRNP_METH_NM        = B.TRNP_METH_NM
				, A.TRNP_METH_IDFY_NO   = B.TRNP_METH_IDFY_NO
				, A.TRNP_RFER_NO        = B.TRNP_RFER_NO
				, A.TRNP_METH_RGSR_DT   = B.TRNP_METH_RGSR_DT
				, A.IMO_NO              = B.IMO_NO
				, A.DPTR_DTTM           = B.DPTR_DTTM
				, A.ARVL_DTTM           = B.ARVL_DTTM
				, A.DPTR_PORT_CD        = B.DPTR_PORT_CD
				, A.LDUN_PORT_CD        = B.LDUN_PORT_CD
				, A.LAST_THRG_PORT_CD   = B.LAST_THRG_PORT_CD
				, A.TRNP_METH_NAT_CD    = B.TRNP_METH_NAT_CD
				, A.SHIP_TTN            = B.SHIP_TTN
				, A.SHIP_NTTN           = B.SHIP_NTTN
				, A.LTSP_YN             = B.LTSP_YN
				, A.CARR_CD             = B.CARR_CD
				, A.CARR_ADDR_NM        = B.CARR_ADDR_NM
				, A.DRVR_NM             = B.DRVR_NM
				, A.DRVR_ADIT_INFO_CN   = B.DRVR_ADIT_INFO_CN
				, A.DEL_YN              = B.DEL_YN
				, A.LAST_CHPR_ID        = B.LAST_CHPR_ID
				, A.LAST_CHG_DTTM       = B.LAST_CHG_DTTM
			FROM TB_CARI_LOAD_MDFY_SLNG_INFO AS B
			WHERE A.SLNG_RGSR_NO = B.SLNG_RGSR_NO 
            AND load_mdfy_rqst_no = #{loadMdfyRqstNo}
    </update>
    
    <!--
   Non utilisé !==사용안함==!
    -->
     <update id="deleteCarLoadTrnpInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* deleteCarLoadTrnpInt */
        DELETE
          FROM TB_CARI_LOAD_TRNP
          WHERE SLNG_RGSR_NO = #{slngRgsrNo}
    </update>
    
    <!--
    Non utilisé !==사용안함==!
    -->
     <update id="deleteCarLoadTrnpExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* deleteCarLoadTrnpExt */
        DELETE
          FROM ALPASSEXT.TB_CARE_LOAD_TRNP
          WHERE SLNG_MGMT_NO = #{slngMgmtNo}
    </update>
    
    
    <!--
    Non utilisé !==사용안함==!
     -->
    <insert id="insertCarLoadTrnpInt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadTrnpInt */
         INSERT INTO TB_CARI_LOAD_TRNP (
        	    SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
       SELECT   SLNG_RGSR_NO
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
           FROM TB_CARI_LOAD_MDFY_TRNP 
           WHERE del_yn = 'N'                                     
           AND LOAD_MDFY_RQST_NO = #{loadMdfyRqstNo}
    </insert>
    
    
    
    <!--
    Non utilisé !==사용안함==!
     -->
    <insert id="insertCarLoadTrnpExt" parameterType="alpass.ipt.car.load.vo.CarLoadVo">
        /* insertCarLoadTrnpExt */
        INSERT INTO ALPASSEXT.TB_CARE_LOAD_TRNP (
        	    slng_mgmt_no
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
       SELECT   #{slngMgmtNo}
              , vhcl_srno            /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
              , chss_no              /** N° De Châssis !== 차대번호 ==! */
              , vhcl_rgsr_no         /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
              , vhcl_pt_cd           /** Code de type de véhicule !== 차량유형코드 ==! */
              , vhcl_ttn             /** Tonnage brut du véhicule !== 차량총톤수 ==! */
              , vhcl_nttn            /** Tonnage net du véhicule !== 차량순톤수 ==! */
              , drvr_nm              /** Nom de conducteur !== 운전자명 ==! */
              , drvr_pspr_no         /** N° de passeport de conducteur !== 운전자여권번호 ==! */
              , del_yn               /** Suppression On !== 삭제여부 ==! */
              , frst_regst_id        /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
              , frst_rgsr_dttm       /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
              , last_chpr_id         /** Id Du Modificateur Final !== 최종변경자ID ==! */
              , last_chg_dttm        /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
           FROM TB_CARI_LOAD_MDFY_TRNP 
           WHERE del_yn = 'N'                                     
           AND LOAD_MDFY_RQST_NO = #{loadMdfyRqstNo}
    </insert>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

</mapper>

























