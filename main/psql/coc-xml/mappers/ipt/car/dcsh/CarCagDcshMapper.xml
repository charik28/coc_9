<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="alpass.ipt.car.dcsh.mapper.CarCagDcshMapper">
    <sql id="selectItem">
        SELECT CD.mrn                                                           AS mrn /** Mrn !== MRN ==! */
             , CD.cag_dcsh_rgsr_mgmt_no                                         AS cag_dcsh_rgsr_mgmt_no/** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
             , CD.co_rqst_no                                                    AS co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
             , TO_CHAR(CD.trsn_dttm, 'DD/MM/YYYY HH24:MI:SS')                   AS trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
             , CD.trsn_dttm                                                     AS sort_trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
             , CD.cag_rqst_tp_cd                                                AS cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
             , CD.jrsd_orgn_cd                                                  AS jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
             , FN_GET_ORGN_NM(CD.jrsd_orgn_cd)                                  AS JRSD_ORGN_NM /** Code D'Unité Compétente !== 관할조직코드 ==! */
             , CD.trsn_co_cd                                                    AS trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
             , CD.al_bl_gcnt                                                    AS al_bl_gcnt /** Nombre Total De Bl !== 전체BL개수 ==! */
             , CD.al_pckg_gcnt                                                  AS al_pckg_gcnt /** Nombre Total De Colis !== 전체포장개수 ==! */
             , CD.al_ttwg                                                       AS al_ttwg /** Poids Brut Total !== 전체총중량 ==! */
             , CD.al_cntr_gcnt                                                  AS al_cntr_gcnt /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
             , CD.al_ecntr_cnt                                                  AS al_ecntr_cnt /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
             , CD.al_vhcl_gcnt                                                  AS al_vhcl_gcnt /** Nombre Total De Véhicules !== 전체차량개수 ==! */
             , CD.trnp_mean_cd                                                  AS trnp_mean_cd /** Code de mode de transport !== 운송방법코드 ==! */
             , CD.trnp_meth_nm                                                  AS trnp_meth_nm /** Nom De Moyen De Transport !== 운송수단명 ==! */
             , CD.trnp_meth_idfy_no                                             AS trnp_meth_idfy_no /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
             , CD.trnp_rfer_no                                                  AS trnp_rfer_no /** N° de référence de transport !== 운송참고번호 ==! */
             , TO_CHAR(TO_DATE(CD.trnp_meth_rgsr_dt, 'YYYYMMDD'), 'DD/MM/YYYY') AS trnp_meth_rgsr_dt /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
             , TO_CHAR(CD.dptr_dttm, 'DD/MM/YYYY HH24:MI:SS')                   AS dptr_dttm /** Date Et Heure De Départ !== 출발일시 ==! */
             , TO_CHAR(CD.arvl_dttm, 'DD/MM/YYYY HH24:MI:SS')                   AS arvl_dttm /** Date Et Heure D'Arrivée !== 도착일시 ==! */
             , TO_CHAR(CD.real_arvl_dttm, 'DD/MM/YYYY HH24:MI:SS')              AS real_arvl_dttm /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
             , TO_CHAR(TO_DATE(CD.last_ldun_dt, 'YYYYMMDD'), 'DD/MM/YYYY')      AS last_ldun_dt /** Date De Déchargement Définitif !== 최종하역일자 ==! */
             , CD.dptr_port_cd                                                  AS dptr_port_cd /** Code De Port De Départ !== 출발항구코드 ==! */
             , FN_CARI_GET_PORT_AIRPT_CITY_CD_NM(CD.dptr_port_cd, #{langCd})    AS dptr_port_NM /** Nom de port de départ !==출발항구명==! */
             , CD.ldun_port_cd                                                  AS ldun_port_cd /** Code De Port De Déchargement !== 하역항구코드 ==! */
             , FN_CARI_GET_PORT_AIRPT_CITY_CD_NM(CD.ldun_port_cd, #{langCd})    AS ldun_port_NM /** Nom de port de déchargement !==하역항구명==! */
             , CD.last_thrg_port_cd                                             AS last_thrg_port_cd /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
             , CD.trnp_meth_loct_nm                                             AS trnp_meth_loct_nm /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
             , CD.trnp_meth_nat_cd                                              AS trnp_meth_nat_cd /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
             , CD.ship_ttn                                                      AS ship_ttn /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
             , CD.ship_nttn                                                     AS ship_nttn /** Tonnage Net Du Navire !== 선박순톤수 ==! */
             , CD.ltsp_yn                                                       AS ltsp_yn /** Nil !== 공선여부 ==! */
             , CD.carr_cd                                                       AS carr_cd /** Code De Société De Transport !== 운송사코드 ==! */
             , (SELECT T1.CO_NM
                  FROM TB_COM_CO T1
                     , TB_COM_CO_DCLR_CD T2
                 WHERE T1.NIF = T2.NIF
                   AND T2.CARR_CD = CD.carr_cd
                   AND T2.DEL_YN = 'N'
                   AND T2.USE_YN = 'Y'
                   AND ROWNUM = 1)                                              AS CARR_NM /** Nom de société de transport !==운송사명==! */
             , CD.carr_addr_nm                                                  AS carr_addr_nm /** Adresse De Société De Transport !== 운송사주소명 ==! */
             , CD.apre_yn_cd                                                    AS apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
             , CD.audt_opin_cn                                                  AS audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
             , CD.imo_no                                                        AS imo_no /** N° IMO !== IMO번호 ==! */
             , CD.del_yn                                                        AS del_yn /** Suppression On !== 삭제여부 ==! */
             , CD.frst_regst_id                                                 AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
             , TO_CHAR(CD.frst_rgsr_dttm, 'DD/MM/YYYY HH24:MI:SS')              AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , CD.last_chpr_id                                                  AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , TO_CHAR(CD.last_chg_dttm, 'DD/MM/YYYY HH24:MI:SS')               AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , PB.rqst_dgcnt                                                    AS rqst_dgcnt /** N° ordre de la demande !== 신청차수 ==! */
             , PB.hnot_emp_id                                                   AS hnot_emp_id /** ID du chargé de cotation !== 배부직원ID ==! */
             , PB.audt_emp_id                                                   AS audt_emp_id /** ID de l'insepcteur !== 심사직원ID ==! */
             , ( SELECT EMP.EMP_FMNM || ' ' || EMP.EMP_NM
                   FROM TB_POTI_EMP EMP
                  WHERE EMP.pbsr_no = PB.audt_emp_id)                             AS audt_emp_nm /** Nom de l'inspecteur !==심사직원명==! */
             , PB.insc_emp_id                                                   AS insc_emp_id /** ID de l'vérificateur !== 검사직원ID ==! */
             , PB.prcs_stts_cd                                                  AS prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
             , TO_CHAR(PB.prcs_dttm, 'DD/MM/YYYY HH24:MI:SS')                   AS prcs_dttm    /** Date de traitement !== 처리일자 ==! */
             , HNOT.bfch_emp_id                                                 AS bfch_emp_id /** Id De L'Inspecteur Avant La Modification !== 변경전직원ID ==! */
             , HNOT.bfch_emp_nm                                                 AS bfch_emp_nm /** Id De L'Inspecteur Avant La Modification !== 변경전직원ID ==! */
             , HNOT.afch_emp_id                                                 AS afch_emp_id /** Id De L'Inspecteur Après La Modification !== 변경후직원ID ==! */
             , HNOT.afch_emp_nm                                                 AS afch_emp_nm /** Id De L'Inspecteur Après La Modification !== 변경후직원ID ==! */
             , HNOT.chg_rsn_cn                                                  AS chg_rsn_cn /** Motif De La Modification !== 변경사유내용 ==! */
             , CD.al_ntwg                                                       AS al_ntwg /** Poids net total (KG) !== 전체 순중량 ==! */
             , NVL(CD.ldun_bl_gcnt, 0) 										    AS ldun_bl_gcnt /** Nombre de BL déchargé !== 양하BL개수 ==! */
          FROM TB_CARI_CAG_DCSH CD
          LEFT JOIN TB_CARI_CAG_PRCS_BRKD PB
           ON CD.CAG_RQST_TP_CD = PB.CAG_RQST_TP_CD
          AND CD.CAG_DCSH_RGSR_MGMT_NO = PB.CAG_RQST_NO
          AND PB.DEL_YN = 'N'
         LEFT JOIN (SELECT A.cag_rqst_no    AS cag_rqst_no /** N° De Demande De Cargaison !== 화물신청번호 ==! */
                         , A.cag_rqst_tp_cd AS cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
                         , A.bfch_emp_id    AS bfch_emp_id /** Id De L'Inspecteur Avant La Modification !== 변경전직원ID ==! */
                         , A.afch_emp_id    AS afch_emp_id /** Id De L'Inspecteur Après La Modification !== 변경후직원ID ==! */
                         , A.chg_rsn_cn     AS chg_rsn_cn /** Motif De La Modification !== 변경사유내용 ==! */
                         , e1.EMP_FMNM || ' ' || e1.emp_nm        AS bfch_emp_nm /** Nom De L'Employé !== 직원명 ==! */
                         , e2.EMP_FMNM || ' ' || e2.emp_nm        AS afch_emp_nm /** Nom De L'Employé !== 직원명 ==! */
                      FROM TB_CARI_HNOT_CHG_H A
                     INNER JOIN (SELECT cag_rqst_no
                                      , MAX(chg_hist_srno) chg_hist_srno
                                   FROM TB_CARI_HNOT_CHG_H
                                  GROUP BY cag_rqst_no) H
                        ON A.cag_rqst_no = h.cag_rqst_no
                       AND a.chg_hist_srno = h.chg_hist_srno
                      LEFT JOIN TB_POTI_EMP e1
                        ON e1.pbsr_no = a.bfch_emp_id
                      LEFT JOIN TB_POTI_EMP e2
                        ON e2.pbsr_no = a.afch_emp_id) HNOT
           ON HNOT.cag_rqst_no = PB.cag_rqst_no
          AND HNOT.cag_rqst_tp_cd = PB.cag_rqst_tp_cd
          <if test="cagChrcCd != null and cagChrcCd != ''">
          INNER JOIN ( SELECT DISTINCT T1.MRN  FROM TB_CARI_CAG_DCSH_BL T1
                         WHERE T1.DEL_YN = 'N'
                          AND T1.CAG_CHRC_CD = #{cagChrcCd}) CHRC_CD
           ON CD.MRN  = CHRC_CD.MRN     
          </if>
          <if test="cmdtKndCd != null and cmdtKndCd != ''">         
          INNER JOIN ( SELECT DISTINCT T1.MRN  FROM TB_CARI_CAG_DCSH_BL T1
                         WHERE T1.DEL_YN = 'N'
                          AND T1.CMDT_KND_CD = #{cmdtKndCd}) KND_CD
           ON CD.MRN  = KND_CD.MRN      
          </if>  
        WHERE 1 = 1
    </sql>

    <!--
    Voir la liste des  Coter le manifeste à l'inspecteur  !==심사자 배부를 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagDcshAdorHnotList"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCagDcshAdorHnotList */
        <include refid="pagination.header"/>
        <include refid="selectItem"/>
        AND CD.del_yn = #{delYn} /** Suppression ON !== 삭제여부 ==! */
        AND CD.cag_rqst_tp_cd = #{cagRqstTpCd} /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
        AND CD.JRSD_ORGN_CD IN (           
            <choose>
                  <when test="jrsdOrgnCd != null and jrsdOrgnCd != ''">
                  SELECT unnest(string_to_array(alpassint.fn_cari_get_orgcd('O', #{jrsdOrgnCd}), ','))
                  </when>
                  <otherwise>
                  SELECT unnest(string_to_array(alpassint.fn_cari_get_orgcd('P', #{frstRegstId}), ','))
                  </otherwise>
              </choose>
            )

        <if test="managerYn == null or !managerYn.equals('Y'.toString())">/** administrateur !==관리자인 경우==! */
            <if test="audtEmpId != null and audtEmpId != ''">/** Inspecteur !==심사자인 경우==! */
                AND PB.AUDT_EMP_ID = #{audtEmpId} /** ID de la personne vérifiant !==심사직원ID==! */
            </if>
        </if>
        <if test="prcsDttmFrom != '' and prcsDttmFrom != null and prcsDttmTo != '' and prcsDttmTo != null">
            AND PB.prcs_dttm BETWEEN TO_DATE(#{prcsDttmFrom}, 'DD/MM/YYYY')
            AND TO_DATE(#{prcsDttmTo}, 'DD/MM/YYYY') + 0.99999 /** Date et heure de traitement !==처리일시==! */
        </if>
        <if test="arvlDttmFrom != '' and arvlDttmFrom != null and arvlDttmTo != '' and arvlDttmTo != null">
            AND CD.arvl_dttm BETWEEN TO_DATE(#{arvlDttmFrom}, 'DD/MM/YYYY')
            AND TO_DATE(#{arvlDttmTo}, 'DD/MM/YYYY') + 0.99999 /** Date Et Heure D'Arrivée !== 도착일시 ==! */
        </if>
        <if test="mrn != null and mrn != ''">
            AND UPPER(CD.mrn) = UPPER(#{mrn}) /** Mrn !== MRN ==! */
        </if>
        <if test="dptrDttmFrom != '' and dptrDttmFrom != null and dptrDttmTo != '' and dptrDttmTo != null">
            AND CD.dptr_dttm BETWEEN #{dptrDttmFrom} AND #{dptrDttmTo} /** Date Et Heure De Départ !== 출발일시 ==! */
        </if>
        <if test="carrCd != null and carrCd != ''">
            AND CD.carr_cd = #{carrCd} /** Code De Société De Transport !== 운송사코드 ==! */
        </if>
        <if test="carrNm != null and carrNm != ''">
            AND ( SELECT UPPER(T1.CO_NM)
                    FROM TB_COM_CO T1
                       , TB_COM_CO_DCLR_CD T2
                   WHERE T1.NIF = T2.NIF
                     AND T2.CARR_CD = CD.CARR_CD
                     AND T2.DEL_YN = 'N') like '%' || UPPER(#{carrNm}) || '%'
        </if>
        <if test="trnpMethNm != null and trnpMethNm != ''">
            AND UPPER(CD.trnp_meth_nm) like '%'||UPPER(#{trnpMethNm}) ||'%' /** Nom De Moyen De Transport !== 운송수단명 ==! */
        </if>
        <if test="prcsSttsCd != null and prcsSttsCd != ''">
            AND PB.prcs_stts_cd = #{prcsSttsCd} /** Code De Statut De Traitement !== 처리상태코드 ==! */
        </if>
        <if test="trnpRferNo != null and trnpRferNo != ''">
            AND UPPER(CD.trnp_rfer_no) = UPPER(#{trnpRferNo}) /** N° de référence de transport !== 운송참고번호 ==! */
        </if>
        <if test="trnpMethIdfyNo != null and trnpMethIdfyNo != ''">
            AND UPPER(CD.trnp_meth_idfy_no) = UPPER(#{trnpMethIdfyNo}) /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
        </if>
        ORDER BY sort_trsn_dttm DESC
        <include refid="pagination.footer"/>
    </select>

    <!--
    Voir les détails de la déclaration de cargaison !==화물신고서를 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagDcsh"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCagDcsh */
        <include refid="pagination.header"/>
           SELECT A.mrn                                                    AS mrn                 /** Mrn !== MRN ==! */
                , A.cag_dcsh_rgsr_mgmt_no                                  AS cag_dcsh_rgsr_mgmt_no/** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
                , A.co_rqst_no                                             AS co_rqst_no          /** N° de demande d'entreprise !== 업체신청번호 ==! */
                , TO_CHAR(A.trsn_dttm,'DD/MM/YYYY HH24:MI:SS')             AS trsn_dttm           /** Date et heure de transmission !== 전송일시 ==! */
                , A.trsn_dttm                                              AS sort_trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
                , A.cag_rqst_tp_cd                                         AS cag_rqst_tp_cd      /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
                , A.jrsd_orgn_cd                                           AS jrsd_orgn_cd        /** Code D'Unité Compétente !== 관할조직코드 ==! */
                , C.jrsd_cstm_cd                                           AS jrsd_cstm_cd        /** Code D'Unité Compétente !== 관할조직코드 ==! */
                , A.trsn_co_cd                                             AS trsn_co_cd          /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
                , FN_CARI_GET_CO_NM(A.trsn_co_cd)                          AS trsn_co_nm          /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
                , A.trsn_co_cd || ' | ' || FN_CARI_GET_CO_NM(A.trsn_co_cd)   AS trsn_co_cd_nm       /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
                , A.al_bl_gcnt                                             AS al_bl_gcnt          /** Nombre Total De Bl !== 전체BL개수 ==! */
                , A.al_pckg_gcnt                                           AS al_pckg_gcnt        /** Nombre Total De Colis  !== 전체포장개수 ==! */
                , A.al_ttwg                                                AS al_ttwg             /** Poids Brut Total !== 전체총중량 ==! */
                , A.al_cntr_gcnt                                           AS al_cntr_gcnt        /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
                , A.al_ecntr_cnt                                           AS al_ecntr_cnt        /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
                , A.al_vhcl_gcnt                                           AS al_vhcl_gcnt        /** Nombre Total De Véhicules !== 전체차량개수 ==! */
                , A.trnp_mean_cd                                           AS trnp_mean_cd        /** Code de mode de transport !== 운송방법코드 ==! */
                , A.trnp_meth_nm                                           AS trnp_meth_nm        /** Nom De Moyen De Transport !== 운송수단명 ==! */
                , A.trnp_meth_idfy_no                                      AS trnp_meth_idfy_no   /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
                , A.trnp_rfer_no                                           AS trnp_rfer_no        /** N° de référence de transport !== 운송참고번호 ==! */
                , TO_CHAR(TO_DATE(A.trnp_meth_rgsr_dt),'DD/MM/YYYY')                AS trnp_meth_rgsr_dt   /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
                , TO_CHAR(A.dptr_dttm,'DD/MM/YYYY HH24:MI:SS')             AS dptr_dttm           /** Date Et Heure De Départ !== 출발일시 ==! */
                , TO_CHAR(A.arvl_dttm,'DD/MM/YYYY HH24:MI:SS')             AS arvl_dttm           /** Date Et Heure D'Arrivée !== 도착일시 ==! */
                , TO_CHAR(A.real_arvl_dttm,'DD/MM/YYYY HH24:MI:SS')        AS real_arvl_dttm      /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
                , TO_CHAR(TO_DATE(NVL(A.last_ldun_dt,NULL)),'DD/MM/YYYY')                     AS last_ldun_dt        /** Date De Déchargement Définitif !== 최종하역일자 ==! */
                , A.dptr_port_cd                                           AS dptr_port_cd        /** Code De Port De Départ !== 출발항구코드 ==! */
                , A.ldun_port_cd                                           AS ldun_port_cd        /** Code De Port De Déchargement !== 하역항구코드 ==! */
                , A.last_thrg_port_cd                                      AS last_thrg_port_cd   /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
                , A.trnp_meth_loct_nm                                      AS trnp_meth_loct_nm   /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
                , A.trnp_meth_nat_cd                                       AS trnp_meth_nat_cd    /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
                , A.ship_ttn                                               AS ship_ttn            /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
                , A.ship_nttn                                              AS ship_nttn           /** Tonnage Net Du Navire !== 선박순톤수 ==! */
                , A.ltsp_yn                                                AS ltsp_yn             /** Nil !== 공선여부 ==! */
                , A.carr_cd                                                AS carr_cd             /** Code De Société De Transport !== 운송사코드 ==! */
                <!-- , FN_CARI_GET_CO_NM(A.carr_cd)                             AS carr_nm             /** Code De Société De Transport !== 운송사코드 ==! */ -->
                , A.carr_addr_nm                                           AS carr_addr_nm        /** Adresse De Société De Transport !== 운송사주소명 ==! */
                , A.eur_fxrt                                               AS eur_fxrt            /** Taux de change EUR !== EUR환율 ==! */
                , A.usd_fxrt                                               AS usd_fxrt            /** Taux de change USD !== USD환율 ==! */
                , A.apre_yn_cd                                             AS apre_yn_cd          /** Autorisation O/N !== 승인여부코드 ==! */
                , A.audt_opin_cn                                           AS audt_opin_cn        /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
                , A.imo_no                                                 AS imo_no              /** N° IMO !== IMO번호 ==! */
                , A.del_yn                                                 AS del_yn              /** Suppression On !== 삭제여부 ==! */
                , A.frst_regst_id                                          AS frst_regst_id       /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
                , TO_CHAR(A.frst_rgsr_dttm,'DD/MM/YYYY HH24:MI:SS')        AS frst_rgsr_dttm      /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
                , A.last_chpr_id                                           AS last_chpr_id        /** Id Du Modificateur Final !== 최종변경자ID ==! */
                , TO_CHAR(A.last_chg_dttm,'DD/MM/YYYY HH24:MI:SS')         AS last_chg_dttm       /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
                , A.atch_file_id                                           AS atch_file_id        /** Id Du Fichier Joint !== 파일ID ==! */
                , A.al_ntwg                                                AS al_ntwg             /** Poids net total (KG) !== 전체 순중량 ==! */
                , NVL(A.ldun_bl_gcnt, 0)								   AS ldun_bl_gcnt 		  /** Nombre de BL déchargé !== 양하BL개수 ==! */
                , A.drvr_nm                                                AS drvr_nm             /** Nom du conducteur !== 운전자명 ==! */
                , (select load_rqst_no from tb_care_cag_dcsh x where x.mrn = a.mrn) as load_rqst_no /** N° De Demande De Chargement !== 적재신청번호 ==! */
                , pb.prcs_stts_cd                                          AS prcs_stts_cd 		  /** Code De Statut De Traitement !== 처리상태코드 ==! */
             FROM TB_CARI_CAG_DCSH A
        LEFT JOIN TB_CARI_CAG_PRCS_BRKD PB
               ON A.CAG_RQST_TP_CD = PB.CAG_RQST_TP_CD
              AND A.CAG_DCSH_RGSR_MGMT_NO = PB.CAG_RQST_NO
              AND PB.DEL_YN = 'N'     
        LEFT JOIN ( SELECT C1.ORGN_CD
	                     , C2.ORGN_CD JRSD_CSTM_CD
		              FROM TB_POTI_ORGN C1
	             LEFT JOIN TB_POTI_ORGN C2
		                ON C1.UPR_ORGN_MGMT_CD = C2.ORGN_MGMT_CD
		             WHERE C1.DEL_YN = 'N'
		          ) C
		       ON A.JRSD_ORGN_CD = C.ORGN_CD    
            WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
              <if test="cagRqstTpCd != null and cagRqstTpCd != '' ">
              AND A.cag_rqst_tp_cd = #{cagRqstTpCd} /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
              </if>
              AND A.mrn = #{mrn}
           order by sort_trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
        <include refid="pagination.footer"/>
    </select>

    <!--
    Voir les détails de la déclaration de cargaison !==화물신고서를 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagMrnByRgsrMgmtNo"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCagMrnByRgsrMgmtNo */
        SELECT MRN
        FROM alpassext.tb_care_cag_dcsh
        WHERE cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} LIMIT 1
    </select>
    <!--
    Voir les détails de la MRN !== MRN을 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagRgsrMgmtNoByMrn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCagRgsrMgmtNoByMrn */
        SELECT CAG_DCSH_RGSR_MGMT_NO
        FROM ALPASSEXT.TB_CARE_CAG_DCSH
        WHERE MRN = #{mrn} LIMIT 1
    </select>

    <!--
    Modifier l'état de traitement !== 진행 상태를 수정한다.==!
    (Lee KyoungSung)
    -->
    <update id="updateCagDcshAdorChg"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCagDcshAdorChg */
        UPDATE TB_CARI_CAG_PRCS_BRKD
        SET LAST_CHPR_ID = #{lastChprId}
        , LAST_CHG_DTTM = SYSTIMESTAMP
        <if test="prcsSttsCd != null and prcsSttsCd != '' ">
            , PRCS_STTS_CD = #{prcsSttsCd}
        </if>
        <if test="hnotEmpId != null and hnotEmpId != '' ">
            , HNOT_EMP_ID = #{hnotEmpId}
        </if>
        <if test="audtEmpId != null and audtEmpId != '' ">
            , AUDT_EMP_ID = #{audtEmpId}
        </if>
        WHERE CAG_RQST_NO = #{cagRqstNo}
        AND CAG_RQST_TP_CD = #{cagRqstTpCd}
        AND RQST_DGCNT = #{rqstDgcnt}
    </update>

    <!--
    Modifier les informations sur 'Date et heure d'arrivée effective'. !==실제도착일시를 수정한다.==!
    (Kwon WooHyun)
    -->
    <update id="updateCariCagDcshByLdun"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCariCagDcshByLdun */
        UPDATE TB_CARI_CAG_DCSH
        SET del_yn         = 'N' /** Suppression ON !== 삭제여부 ==! */
          , last_chpr_id   = #{lastChprId} /** ID du modificateur final !== 최종변경자ID ==! */
          , last_chg_dttm  = SYSTIMESTAMP /** Date et heure de modification finale !== 최종변경일시 ==! */
          , real_arvl_dttm = TO_TIMESTAMP(#{realArvlDttm}, 'DD/MM/YYYY HH24:MI:SS') /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
        <if test="trnpMethLoctNm != null and trnpMethLoctNm != '' ">
          , trnp_meth_loct_nm = #{trnpMethLoctNm} /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
        </if>
        WHERE 1 = 1
          AND mrn = #{mrn} /** Mrn !== MRN ==! */
          AND cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
    </update>

    <!--
    Modifier les informations sur 'Date et heure d'arrivée effective'. (CARE) !==실제도착일시를 수정한다. (CARE)==!
    (Kwon WooHyun)
    -->
    <update id="updateCareCagDcshByLdun"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCareCagDcshByLdun */
        UPDATE alpassext.TB_CARE_CAG_DCSH
        SET del_yn         = 'N' /** Suppression ON !== 삭제여부 ==! */
          , last_chpr_id   = #{lastChprId} /** ID du modificateur final !== 최종변경자ID ==! */
          , last_chg_dttm  = SYSTIMESTAMP /** Date et heure de modification finale !== 최종변경일시 ==! */
          , real_arvl_dttm = TO_TIMESTAMP(#{realArvlDttm}, 'DD/MM/YYYY HH24:MI:SS') /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
        <if test="trnpMethLoctNm != null and trnpMethLoctNm != '' ">
          , trnp_meth_loct_nm = #{trnpMethLoctNm} /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
        </if>
        WHERE 1 = 1
          AND cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
          AND mrn = #{mrn}
    </update>

    <!--
    Modifier les infos sur la zone sous douane.!== 보세구역 정보를 수정한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCariCagDcshIbobzStvdCd"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCariCagDcshIbobzStvdCd */
        UPDATE TB_CARI_CAG_DCSH_BL AA
           SET ( ibobz_cd
                , stvd_cd
                , last_chpr_id
                , last_chg_dttm)
                = (SELECT B.ibobz_cd
                        , B.stvd_cd
                        , #{lastChprId}
                        , SYSTIMESTAMP
                   FROM TB_CARI_LDUN A /** CARI_하역 */
                            LEFT JOIN TB_CARI_LDUN_BL B /** CARI_하역_BL */
                                      ON A.ldun_rqst_no = B.ldun_rqst_no
                   WHERE A.mrn = AA.mrn
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mgmt_no = #{ldunRqstMgmtNo})
        WHERE AA.mrn = #{mrn}
          AND AA.bl_pt_cd = 'M'
          AND AA.del_yn = 'N'
          AND 0 <![CDATA[ < ]]> (SELECT COUNT(*)
                   FROM TB_CARI_LDUN A /** CARI_하역 */
                            LEFT JOIN TB_CARI_LDUN_BL B /** CARI_하역_BL */
                                      ON A.ldun_rqst_no = B.ldun_rqst_no
                   WHERE A.mrn = AA.mrn
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mgmt_no = #{ldunRqstMgmtNo})
    </update>
    <!--
    Modifier les infos sur la zone sous douane.!== 보세구역 정보를 수정한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCariCagDcshIbobzStvdCdMdfy"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCariCagDcshIbobzStvdCdMdfy */
        UPDATE TB_CARI_CAG_DCSH_BL AA
        SET ( ibobz_cd
                , stvd_cd
                , last_chpr_id
                , last_chg_dttm)
                = (SELECT B.ibobz_cd
                        , B.stvd_cd
                        , #{lastChprId}
                        , SYSTIMESTAMP
                   FROM TB_CARI_LDUN_MDFY A /** CARI_하역정정 */
                            LEFT JOIN TB_CARI_LDUN_BL_MDFY B /** CARI_하역정정_BL */
                                      ON A.ldun_rqst_mdfy_no = B.ldun_rqst_mdfy_no
                   WHERE A.mrn = AA.mrn
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mdfy_no = #{ldunRqstMdfyNo})
        WHERE AA.mrn = #{mrn}
          AND AA.bl_pt_cd = 'M'
          AND AA.del_yn = 'N'
          AND 0 <![CDATA[ < ]]> (SELECT COUNT(*)
                   FROM TB_CARI_LDUN_MDFY A /** CARI_하역정정 */
                            LEFT JOIN TB_CARI_LDUN_BL_MDFY B /** CARI_하역정정_BL */
                                      ON A.ldun_rqst_mdfy_no = B.ldun_rqst_mdfy_no
                   WHERE A.mrn = AA.mrn
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mdfy_no = #{ldunRqstMdfyNo})
    </update>
    <!--
    Modifier les infos sur la zone sous douane.!== 보세구역 정보를 수정한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCareCagDcshIbobzStvdCd"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCareCagDcshIbobzStvdCd */
        UPDATE alpassext.TB_CARE_CAG_DCSH_BL AA
        SET ( ibobz_cd
                , stvd_cd
                , last_chpr_id
                , last_chg_dttm)
                = (SELECT B.ibobz_cd
                        , B.stvd_cd
                        , #{lastChprId}
                        , SYSTIMESTAMP
                   FROM alpassext.TB_CARE_LDUN A /** CARE_하역 */
                            LEFT JOIN alpassext.TB_CARE_LDUN_BL B /** CARE_하역_BL */
                                      ON A.ldun_rqst_mgmt_no = B.ldun_rqst_mgmt_no
                   WHERE A.mrn = #{mrn}
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mgmt_no = #{ldunRqstMgmtNo}
                     AND A.ldun_rqst_no IS NOT null)
        WHERE AA.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** N° de gestion d'enregistrement de manifeste !==적하목록등록관리번호==! */
          AND AA.bl_pt_cd = 'M'
          AND AA.del_yn = 'N'
          AND 0 <![CDATA[ < ]]> (SELECT COUNT(*)
                   FROM alpassext.TB_CARE_LDUN A
                            LEFT JOIN alpassext.TB_CARE_LDUN_BL B
                                      ON A.ldun_rqst_mgmt_no = B.ldun_rqst_mgmt_no
                   WHERE A.mrn = #{mrn}
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mgmt_no = #{ldunRqstMgmtNo}
                     AND A.ldun_rqst_no IS NOT null)
    </update>
    <!--
    Modifier les infos sur la zone sous douane.!== 보세구역 정보를 수정한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCareCagDcshIbobzStvdCdMdfy"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCareCagDcshIbobzStvdCdMdfy */
        UPDATE alpassext.TB_CARE_CAG_DCSH_BL AA
        SET ( ibobz_cd
                , stvd_cd
                , last_chpr_id
                , last_chg_dttm)
                = (SELECT B.ibobz_cd
                        , B.stvd_cd
                        , #{lastChprId}
                        , SYSTIMESTAMP
                   FROM alpassext.TB_CARE_LDUN_MDFY A /** CARE_하역정정 */
                            LEFT JOIN alpassext.TB_CARE_LDUN_MDFY_BL B /** CARE_하역정정_BL */
                                      ON A.ldun_rqst_mdfy_mgrn = B.ldun_rqst_mdfy_mgrn
                   WHERE A.mrn = #{mrn}
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mdfy_mgrn = #{ldunRqstMdfyMgrn}
                     AND A.ldun_rqst_mdfy_no IS NOT null)
        WHERE AA.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** N° de gestion d'enregistrement de manifeste !==적하목록등록관리번호==! */
          AND AA.bl_pt_cd = 'M'
          AND AA.del_yn = 'N'
          AND 0 <![CDATA[ < ]]> (SELECT COUNT(*)
                   FROM alpassext.TB_CARE_LDUN_MDFY A
                            LEFT JOIN alpassext.TB_CARE_LDUN_MDFY_BL B
                                      ON A.ldun_rqst_mdfy_mgrn = B.ldun_rqst_mdfy_mgrn
                   WHERE A.mrn = #{mrn}
                     AND B.bl_no = AA.bl_no
                     AND A.ldun_rqst_mdfy_mgrn = #{ldunRqstMdfyMgrn}
                     AND A.ldun_rqst_mdfy_no IS NOT null)
    </update>

    <!--
    Enregistrer l'historique des modifications d'inspecteur.      !== 심사자 변경이력을 등록한다.  ==!
    (Kwon WooHyun)
    -->
    <insert id="insertHnotChgHist"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertHnotChgHist */
        INSERT INTO TB_CARI_HNOT_CHG_H
        ( CHG_HIST_SRNO /**  N° De Séquence De L'Historique De Changement  !== 변경이력일련번호 ==!  */
        , CAG_RQST_NO /**  N° De Demande De Cargaison  !== 화물신청번호 ==!  */
        , CAG_RQST_TP_CD /**  Code de type de demande fret  !== 화물신청구분코드 ==!  */
        , RQST_DGCNT /**  N° ordre de la demande  !== 신청차수 ==!  */
        , ORGN_TP_CD /**  Code Distintif D'Unité  !== 조직구분코드 ==!  */
        , EMP_TP_CD /**  Code De Catégorie De Chargé  !== 직원구분코드 ==!  */
        , HNOT_EMP_ID /**  ID du chargé de cotation  !== 배부직원ID ==!  */
        , BFCH_EMP_ID /**  Id De L'Inspecteur Avant La Modification  !== 변경전직원ID ==!  */
        , AFCH_EMP_ID /**  Id De L'Inspecteur Après La Modification  !== 변경후직원ID ==!  */
        , CHG_RSN_CN /**  Motif De La Modification  !== 변경사유내용 ==!  */
        , DEL_YN /**  Suppression On  !== 삭제여부 ==!  */
        , FRST_REGST_ID /**  Id Du Premier Enregistrant   !== 최초등록자ID ==!  */
        , FRST_RGSR_DTTM /**  Date Et Heure De Premier Enregistrement  !== 최초등록일시 ==!  */
        , LAST_CHPR_ID /**  Id Du Modificateur Final  !== 최종변경자ID ==!  */
        , LAST_CHG_DTTM /**  Date Et Heure De Modification Finale  !== 최종변경일시 ==!  */
        )
        values ( (SELECT NVL(MAX(CHG_HIST_SRNO), 0) + 1 FROM TB_CARI_HNOT_CHG_H) /**  N° De Séquence De L'Historique De Changement  !== 변경이력일련번호 ==!  */
               , #{cagRqstNo} /**  N° De Demande De Cargaison  !== 화물신청번호 ==!  */
               , #{cagRqstTpCd} /**  Code de type de demande fret  !== 화물신청구분코드 ==!  */
               , #{rqstDgcnt} /**  N° ordre de la demande  !== 신청차수 ==!  */
               , #{orgnTpCd} /**  Code Distintif D'Unité  !== 조직구분코드 ==!  */
               , #{empTpCd} /**  Code De Catégorie De Chargé  !== 직원구분코드 ==!  */
               , #{hnotEmpId} /**  ID du chargé de cotation  !== 배부직원ID ==!  */
               , #{bfchEmpId} /**  Id De L'Inspecteur Avant La Modification  !== 변경전직원ID ==!  */
               , #{afchEmpId} /**  Id De L'Inspecteur Après La Modification  !== 변경후직원ID ==!  */
               , #{chgRsnCn} /**  Motif De La Modification  !== 변경사유내용 ==!  */
               , #{delYn} /**  Suppression On  !== 삭제여부 ==!  */
               , #{frstRegstId} /**  Id Du Premier Enregistrant   !== 최초등록자ID ==!  */
               , SYSTIMESTAMP /**  Date Et Heure De Premier Enregistrement  !== 최초등록일시 ==!  */
               , #{lastChprId} /**  Id Du Modificateur Final  !== 최종변경자ID ==!  */
               , SYSTIMESTAMP /**  Date Et Heure De Modification Finale  !== 최종변경일시 ==!  */
               )
    </insert>

    <!--
    Enregistrer le résultat du contrôle.      !== 심사 결과를 등록한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCariCagDcshAudtCn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCariCagDcshAudtCn */
        UPDATE TB_CARI_CAG_DCSH
        SET AUDT_OPIN_CN  = #{audtOpinCn}
          , APRE_YN_CD    = #{apreYnCd}
          , LAST_CHPR_ID  = #{lastChprId}
          , LAST_CHG_DTTM = SYSTIMESTAMP
        WHERE MRN = #{mrn}
          AND CAG_RQST_TP_CD = #{cagRqstTpCd}
    </update>
    <!--
    Enregistrer le résultat du contrôle.      !== 심사 결과를 등록한다. ==!
    (Kwon WooHyun)
    -->
    <update id="updateCareCagDcshAudtCn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCareCagDcshAudtCn */
        UPDATE ALPASSEXT.TB_CARE_CAG_DCSH
        SET PRCS_STTS_CD  = I.PRSC_STTS_CD
          , APRE_YN_CD    = I.APRE_YN_CD
          , AUDT_OPIN_CN  = I.AUDT_OPIN_CN
          , LAST_CHPR_ID  = I.LAST_CHPR_ID
          , LAST_CHG_DTTM = I.LAST_CHG_DTTM
          , LOAD_RQST_NO  = CASE WHEN I.PRSC_STTS_CD = 'D09' THEN NULL ELSE LOAD_RQST_NO END
       FROM ( SELECT (CASE APRE_YN_CD WHEN 'O' THEN 'D08' ELSE 'D09' END) AS PRSC_STTS_CD
                   , AUDT_OPIN_CN
                   , APRE_YN_CD
                   , LAST_CHPR_ID
                   , LAST_CHG_DTTM
                   , CAG_RQST_TP_CD
                FROM TB_CARI_CAG_DCSH
               WHERE CAG_DCSH_RGSR_MGMT_NO = #{cagDcshRgsrMgmtNo}
                 AND CAG_RQST_TP_CD = #{cagRqstTpCd}
              ) I
        WHERE CAG_DCSH_RGSR_MGMT_NO = #{cagDcshRgsrMgmtNo}
          AND MRN = #{mrn}
    </update>

    <!--
    Modifier les informations sur 'Date De Déchargement Définitif '. !==최종하역 일시를 수정한다.==!
    (Kwon WooHyun)
    -->
    <update id="updateCariCagDcshLastLdunDt"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCariCagDcshLastLdunDt */
        UPDATE TB_CARI_CAG_DCSH
        SET del_yn        = 'N' /** Suppression ON !== 삭제여부 ==! */
          , last_chpr_id  = #{lastChprId} /** ID du modificateur final !== 최종변경자ID ==! */
          , last_chg_dttm = SYSTIMESTAMP /** Date et heure de modification finale !== 최종변경일시 ==! */
          , last_ldun_dt  = TO_CHAR(TO_DATE(#{lastLdunDt}, 'DD/MM/YYYY'), 'YYYYMMDD') /** Date De Déchargement Définitif !== 최종하역일자 ==! */
        WHERE 1 = 1
          AND cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
          AND mrn = #{mrn} /** Mrn !== MRN ==! */
    </update>
    <!--
    Modifier les informations sur 'Date De Déchargement Définitif '. !==최종하역 일시를 수정한다.==!
    (Kwon WooHyun)
    -->
    <update id="updateCareCagDcshLastLdunDt"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.updateCareCagDcshLastLdunDt */
        UPDATE alpassext.TB_CARE_CAG_DCSH
        SET del_yn        = 'N' /** Suppression ON !== 삭제여부 ==! */
          , last_chpr_id  = #{lastChprId} /** ID du modificateur final !== 최종변경자ID ==! */
          , last_chg_dttm = SYSTIMESTAMP /** Date et heure de modification finale !== 최종변경일시 ==! */
          , last_ldun_dt  = TO_CHAR(TO_DATE(#{lastLdunDt}, 'DD/MM/YYYY'), 'YYYYMMDD') /** Date De Déchargement Définitif !== 최종하역일자 ==! */
        WHERE 1 = 1
          AND cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo} /** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
          AND mrn = #{mrn} /** Mrn !== MRN ==! */
    </update>

    <!--
    Créer les infos sur le numéro d'ordre 0 de rectification.      !== 정정 0차수 정보를 생성한다. ==!
    (Kwon WooHyun)
    -->
    <insert id="insertCageDcshMdfyAsNewMst"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCageDcshMdfyAsNewMst */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
        , cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , mrn /** Mrn !== MRN ==! */
        , mdfy_dgcnt /** Fréquence de rectification !== 정정차수 ==! */
        , co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
        , trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
        , cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
        , jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
        , trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
        , cag_dcsh_mdfy_tp_cd /** Code de classification de correction de la déclaration de fret !== 화물신고서정정구분코드 ==! */
        , prcs_dttm /** Date Et Heure De Traitement !== 처리일시 ==! */
        , prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
        , apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
        , audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
             , #{cagDcshMdfyRqstNo}   AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.mrn                  AS mrn /** Mrn !== MRN ==! */
             , (SELECT NVL(MAX(MDFY_DGCNT), -1) + 1
                FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY
                WHERE mrn = #{mrn})   AS mdfy_dgcnt /** Fréquence de rectification !== 정정차수 ==! */
             , A.co_rqst_no           AS co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
             , A.trsn_dttm            AS trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
             , #{cagRqstTpCd}         AS cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
             , A.jrsd_orgn_cd         AS jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
             , A.trsn_co_cd           AS trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
             , '01'                   AS cag_dcsh_mdfy_tp_cd /** Code de classification de correction de la déclaration de fret !== 화물신고서정정구분코드 ==! */
             , SYSTIMESTAMP           AS prcs_dttm /** Date Et Heure De Traitement !== 처리일시 ==! */
             , 'A01'                  AS prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
             , A.apre_yn_cd           AS apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
             , A.audt_opin_cn         AS audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
             , 'N'                    AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id        AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , SYSTIMESTAMP           AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id         AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , SYSTIMESTAMP           AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH A
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
          AND A.mrn = #{mrn}
    </insert>

    <!--
    Créer les infos sur le numéro d'ordre 0 de rectification.      !== 정정 0차수 정보를 생성한다. ==!
    (Kwon WooHyun)
    -->
    <insert id="insertCageDcshMdfyAsNewGnrl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCageDcshMdfyAsNewGnrl */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_GNRL
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
        , mrn /** Mrn !== MRN ==! */
        , al_bl_gcnt /** Nombre Total De Bl !== 전체BL개수 ==! */
        , al_pckg_gcnt /** Nombre Total De Colis  !== 전체포장개수 ==! */
        , al_ttwg /** Poids Brut Total !== 전체총중량 ==! */
        , al_cntr_gcnt /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
        , al_ecntr_cnt /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
        , al_vhcl_gcnt /** Nombre Total De Véhicules !== 전체차량개수 ==! */
        , trnp_mean_cd /** Code de mode de transport !== 운송방법코드 ==! */
        , trnp_meth_nm /** Nom De Moyen De Transport !== 운송수단명 ==! */
        , trnp_meth_idfy_no /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
        , trnp_rfer_no /** N° de référence de transport !== 운송참고번호 ==! */
        , trnp_meth_rgsr_dt /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
        , dptr_dttm /** Date Et Heure De Départ !== 출발일시 ==! */
        , arvl_dttm /** Date Et Heure D'Arrivée !== 도착일시 ==! */
        , real_arvl_dttm /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
        , last_ldun_dt /** Date De Déchargement Définitif !== 최종하역일자 ==! */
        , dptr_port_cd /** Code De Port De Départ !== 출발항구코드 ==! */
        , ldun_port_cd /** Code De Port De Déchargement !== 하역항구코드 ==! */
        , last_thrg_port_cd /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
        , trnp_meth_loct_nm /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
        , trnp_meth_nat_cd /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
        , ship_ttn /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
        , ship_nttn /** Tonnage Net Du Navire !== 선박순톤수 ==! */
        , ltsp_yn /** Nil !== 공선여부 ==! */
        , carr_cd /** Code De Société De Transport !== 운송사코드 ==! */
        , carr_addr_nm /** Adresse De Société De Transport !== 운송사주소명 ==! */
        , imo_no /** N° IMO !== IMO번호 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
        , al_ntwg /** Poids net total (KG) !== 전체 순중량 ==! */
        , drvr_nm
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
             , A.mrn                  AS mrn /** Mrn !== MRN ==! */
             , A.al_bl_gcnt           AS al_bl_gcnt /** Nombre Total De Bl !== 전체BL개수 ==! */
             , A.al_pckg_gcnt         AS al_pckg_gcnt /** Nombre Total De Colis  !== 전체포장개수 ==! */
             , A.al_ttwg              AS al_ttwg /** Poids Brut Total !== 전체총중량 ==! */
             , A.al_cntr_gcnt         AS al_cntr_gcnt /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
             , A.al_ecntr_cnt         AS al_ecntr_cnt /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
             , A.al_vhcl_gcnt         AS al_vhcl_gcnt /** Nombre Total De Véhicules !== 전체차량개수 ==! */
             , A.trnp_mean_cd         AS trnp_mean_cd /** Code de mode de transport !== 운송방법코드 ==! */
             , A.trnp_meth_nm         AS trnp_meth_nm /** Nom De Moyen De Transport !== 운송수단명 ==! */
             , A.trnp_meth_idfy_no    AS trnp_meth_idfy_no /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
             , A.trnp_rfer_no         AS trnp_rfer_no /** N° de référence de transport !== 운송참고번호 ==! */
             , A.trnp_meth_rgsr_dt    AS trnp_meth_rgsr_dt /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
             , A.dptr_dttm            AS dptr_dttm /** Date Et Heure De Départ !== 출발일시 ==! */
             , A.arvl_dttm            AS arvl_dttm /** Date Et Heure D'Arrivée !== 도착일시 ==! */
             , A.real_arvl_dttm       AS real_arvl_dttm /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
             , A.last_ldun_dt         AS last_ldun_dt /** Date De Déchargement Définitif !== 최종하역일자 ==! */
             , A.dptr_port_cd         AS dptr_port_cd /** Code De Port De Départ !== 출발항구코드 ==! */
             , A.ldun_port_cd         AS ldun_port_cd /** Code De Port De Déchargement !== 하역항구코드 ==! */
             , A.last_thrg_port_cd    AS last_thrg_port_cd /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
             , A.trnp_meth_loct_nm    AS trnp_meth_loct_nm /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
             , A.trnp_meth_nat_cd     AS trnp_meth_nat_cd /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
             , A.ship_ttn             AS ship_ttn /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
             , A.ship_nttn            AS ship_nttn /** Tonnage Net Du Navire !== 선박순톤수 ==! */
             , A.ltsp_yn              AS ltsp_yn /** Nil !== 공선여부 ==! */
             , A.carr_cd              AS carr_cd /** Code De Société De Transport !== 운송사코드 ==! */
             , A.carr_addr_nm         AS carr_addr_nm /** Adresse De Société De Transport !== 운송사주소명 ==! */
             , A.imo_no               AS imo_no /** N° IMO !== IMO번호 ==! */
             , A.del_yn               AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id        AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm       AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id         AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm        AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , A.atch_file_id         AS atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
             , A.al_ntwg              AS al_ntwg /** Poids net total (KG) !== 전체 순중량 ==! */
             , A.drvr_nm              AS drvr_nm
        FROM ALPASSEXT.TB_CARE_CAG_DCSH A
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
          AND A.mrn = #{mrn}
    </insert>

    <!--
    Supprimer la Rectifier BL(B/L)
    !==화물신고서 정정 (B/L) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCarCagLdunRqst */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN = #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
        <if test='blNo != null and blNo != "" '>
           AND A.BL_NO= #{blNo}
        </if>
        <choose>
            <when test='hblNo != null and hblNo != "" and blPtCd =="H"'>
                AND A.HBL_NO = #{hblNo}
                AND A.BL_PT_CD = 'H'
            </when>
            <otherwise>
                AND a.BL_PT_CD = 'M'
            </otherwise>
        </choose>
    </delete>


    <!--
    Enregistrement de la Rectifier BL(B/L)
    !==화물신고서 정정 (B/L) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBl */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL
        ( bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de la déclaration de fret !==
        화물신고서정정신청관리번호 ==! */
        , cag_mgmt_no /** N° Demande De La Création De Crn !== 화물관리번호 ==! */
        , msn /** Msn !== MSN ==! */
        , hsn /** Hsn !== HSN ==! */
        , bl_no /** N° De Bl !== BL번호 ==! */
        , hbl_no /** N° de House B/L !== HBL번호 ==! */
        , cag_tp_cd /** Type de flux !== 화물구분코드 ==! */
        , bl_tp_cd /** Code De Catégorie De B/L !== BL구분코드 ==! */
        , bl_pt_cd /** Code De Type De Bl !== BL유형코드 ==! */
        , frwr_cd /** Code De Groupeur !== 포워더코드 ==! */
        , load_regn_cd /** Code De Lieu De Chargement !== 적재지역코드 ==! */
        , ldun_regn_cd /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
        , ibobz_cd /** Code de zone sous douane !== 보세구역코드 ==! */
        , stvd_cd /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
        <!--         , trns_regn_cd /** Code de lieu de transit international !== 트랜짓지역코드 ==! */ -->
        , trnh_regn_cd /** Code De Région De Transbordement !== 환적지역코드 ==! */
        , cag_chrc_cd /** Nature De Cargaison !== 화물특성코드 ==! */
        , send_way /** Mode de livraison !== 발송방식 ==! */
        , pdls_nm /** Nom De L'Article !== 품목명 ==! */
        , cmdt_knd_cd /** Nature De Marchandise !== 물품종류코드 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , ntwg /** Poids Net !== 순중량 ==! */
        , cbm_vol /** Volume (Mtq) !== 입방미터용적 ==! */
        , lir_vol /** Volume (Litre) !== 리터용적 ==! */
        , hdcb_tp_cd /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
        , cas_no /** Numero CAS !== CAS번호 ==! */
        , undg_id /** Identifiant UNDG !== UNDGID ==! */
        , hs_cd /** Code Sh !== HS코드 ==! */
        , shmr_cn /** Marque De Colis !== 화인내용 ==! */
        , add_info_cn /** Info Supplémentaire !== 부가정보내용 ==! */
        , cntr_gcnt /** Nombre De Conteneurs !== 컨테이너개수 ==! */
        , vhcl_gcnt /** Nombre De Véhicules !== 차량개수 ==! */
        , prpm_dfpm_cach_tp_cd /** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
        , cmdt_amt_curr_cd /** Article Montant Code de devise !== 물품금액통화코드 ==! */
        , cmdt_amt /** Valeur de marchandise !== 물품금액 ==! */
        , exppn_txpr_idfy_no /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
        , exppn_nm /** Nom De L'Exportateur !== 수출자명 ==! */
        , exppn_addr_nm /** Adresse De L'Exportateur !== 수출자주소명 ==! */
        , exppn_tlph_no /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
        , exppn_eml /** Email De L'Exportateur !== 수출자이메일 ==! */
        , abrd_frwr_nm /** Nom De L'Expéditeur !== 국외포워더명 ==! */
        , abrd_frwr_addr_nm /** Adresse De L'Expéditeur !== 국외포워더주소명 ==! */
        , abrd_frwr_tlph_no /** Téléphone De L'Expéditeur !== 국외포워더전화번호 ==! */
        , abrd_frwr_eml /** Email De L'Expéditeur !== 국외포워더이메일 ==! */
        , cnsi_txpr_idfy_no /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
        , cnsi_nm /** Nom de destinataire !== 수하인명 ==! */
        , cnsi_addr_nm /** Adresse Du Destinataire !== 수하인주소명 ==! */
        , cnsi_tlph_no /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
        , cnsi_eml /** E-mail de destinataire !== 수하인이메일 ==! */
        , ntpr_nm /** Nom De La Partie À Notifier !== 통지처명 ==! */
        , ntpr_addr_nm /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
        , ntpr_tlph_no /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
        , ntpr_eml /** Email De La Partie À Notifier !== 통지처이메일 ==! */
        , bf_cag_mgmt_no /** Crn Précédent !== 이전화물관리번호 ==! */
        , bl_mdfy_tp_cd /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
        , al_hbl_gcnt /** Nombre Total De Sous Bl !== 전체HBL개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , coat_trnp_yn /** Cabotage On !== 연안운송여부 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , ldun_yn /** déchargement On !== 양하여부 ==! */
        , cnsi_txpr_idfy_no_nin         /** NIN de déstinataire !== 수하인납세자식별번호(NIN) ==! */
        , exppn_txpr_idfy_no_nin        /** NIN d'exportateur !== 수출자납세자식별번호(NIN) ==! */
        , BL_PBLS_DT /** Date de délivrance du B/L(LTA) !== BL발행일자 ==! */
        , UNDG_GD_CD /** Code de classe UNDG !== UNDG등급 ==! */
        , CHER_YN /** affréteur d’espace/slot !== 용선여부 ==! */
        , CHER_GVNM_NM /** nom de l’affréteur/slotteur !== 용선이름 ==! */
        , CHER_ADDR_NM /** adresse affréteur/slotteur !== 용선주소 ==! */
        )
        select a.bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , #{cagDcshMdfyRqstMgrn} cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de ladéclaration de fret !== 화물신고서정정신청관리번호 ==! */
        , A.cag_mgmt_no /** N° Demande De La Création De Crn !== 화물관리번호 ==! */
        , A.msn /** Msn !== MSN ==! */
        , A.hsn /** Hsn !== HSN ==! */
        , A.bl_no /** N° De Bl !== BL번호 ==! */
        , A.hbl_no /** N° de House B/L !== HBL번호 ==! */
        , A.cag_tp_cd /** Type de flux !== 화물구분코드 ==! */
        , A.bl_tp_cd /** Code De Catégorie De B/L !== BL구분코드 ==! */
        , A.bl_pt_cd /** Code De Type De Bl !== BL유형코드 ==! */
        , A.frwr_cd /** Code De Groupeur !== 포워더코드 ==! */
        , A.load_regn_cd /** Code De Lieu De Chargement !== 적재지역코드 ==! */
        , A.ldun_regn_cd /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
        , A.ibobz_cd /** Code de zone sous douane !== 보세구역코드 ==! */
        , A.stvd_cd /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
        <!--         , A.trns_regn_cd /** Code de lieu de transit international !== 트랜짓지역코드 ==! */ -->
        , A.trnh_regn_cd /** Code De Région De Transbordement !== 환적지역코드 ==! */
        , A.cag_chrc_cd /** Nature De Cargaison !== 화물특성코드 ==! */
        , A.send_way /** Mode de livraison !== 발송방식 ==! */
        , A.pdls_nm /** Nom De L'Article !== 품목명 ==! */
        , A.cmdt_knd_cd /** Nature De Marchandise !== 물품종류코드 ==! */
        , A.pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , A.ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , A.ttwg /** Poids Brut !== 총중량 ==! */
        , A.ntwg /** Poids Net !== 순중량 ==! */
        , A.cbm_vol /** Volume (Mtq) !== 입방미터용적 ==! */
        , A.lir_vol /** Volume (Litre) !== 리터용적 ==! */
        , A.hdcb_tp_cd /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
        , A.cas_no /** Numero CAS !== CAS번호 ==! */
        , A.undg_id /** Identifiant UNDG !== UNDGID ==! */
        , A.hs_cd /** Code Sh !== HS코드 ==! */
        , A.shmr_cn /** Marque De Colis !== 화인내용 ==! */
        , A.add_info_cn /** Info Supplémentaire !== 부가정보내용 ==! */
        , A.cntr_gcnt /** Nombre De Conteneurs !== 컨테이너개수 ==! */
        , A.vhcl_gcnt /** Nombre De Véhicules !== 차량개수 ==! */
        , A.prpm_dfpm_cach_tp_cd /** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
        , A.cmdt_amt_curr_cd /** Article Montant Code de devise !== 물품금액통화코드 ==! */
        , A.cmdt_amt /** Valeur de marchandise !== 물품금액 ==! */
        , A.exppn_txpr_idfy_no /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
        , A.exppn_nm /** Nom De L'Exportateur !== 수출자명 ==! */
        , A.exppn_addr_nm /** Adresse De L'Exportateur !== 수출자주소명 ==! */
        , A.exppn_tlph_no /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
        , A.exppn_eml /** Email De L'Exportateur !== 수출자이메일 ==! */
        , A.abrd_frwr_nm /** Nom De L'Expéditeur !== 국외포워더명 ==! */
        , A.abrd_frwr_addr_nm /** Adresse De L'Expéditeur !== 국외포워더주소명 ==! */
        , A.abrd_frwr_tlph_no /** Téléphone De L'Expéditeur !== 국외포워더전화번호 ==! */
        , A.abrd_frwr_eml /** Email De L'Expéditeur !== 국외포워더이메일 ==! */
        , A.cnsi_txpr_idfy_no /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
        , A.cnsi_nm /** Nom de destinataire !== 수하인명 ==! */
        , A.cnsi_addr_nm /** Adresse Du Destinataire !== 수하인주소명 ==! */
        , A.cnsi_tlph_no /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
        , A.cnsi_eml /** E-mail de destinataire !== 수하인이메일 ==! */
        , A.ntpr_nm /** Nom De La Partie À Notifier !== 통지처명 ==! */
        , A.ntpr_addr_nm /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
        , A.ntpr_tlph_no /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
        , A.ntpr_eml /** Email De La Partie À Notifier !== 통지처이메일 ==! */
        , A.bf_cag_mgmt_no /** Crn Précédent !== 이전화물관리번호 ==! */
        , A.bl_mdfy_tp_cd /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
        , A.al_hbl_gcnt /** Nombre Total De Sous Bl !== 전체HBL개수 ==! */
        , A.pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , A.coat_trnp_yn /** Cabotage On !== 연안운송여부 ==! */
        , A.del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , A.ldun_yn /** déchargement On !== 양하여부 ==! */
        , A.cnsi_txpr_idfy_no_nin   /** NIN de déstinataire !== 수하인납세자식별번호(NIN) ==! */
        , A.exppn_txpr_idfy_no_nin  /** NIN d'exportateur !== 수출자납세자식별번호(NIN) ==! */
        , a.bl_pbls_dt /** Date de delivrance du B/L !==BL발급일자==! */
        , A.UNDG_GD_CD /** Code de classe UNDG !== UNDG등급 ==! */
        , A.CHER_YN /** affréteur d’espace/slot !== 용선여부 ==! */
        , A.CHER_GVNM_NM /** nom de l’affréteur/slotteur !== 용선이름 ==! */
        , A.CHER_ADDR_NM /** adresse affréteur/slotteur !== 용선주소 ==! */
     FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL A
    INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
       ON m.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
      AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    WHERE 1 = 1
      AND a.DEL_YN = 'N'
      AND m.DEL_YN = 'N'
    </insert>
    <!--
    Supprimer la Rectifier BL(Conteneur)
    !==화물신고서 정정 BL (컨테너이) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBlCntr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCareCagDcshMdfyBlCntr */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_CNTR A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN = #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>

     <!--
    Enregistrement de la Rectifier BL(Conteneur)
    !==화물신고서 정정 (컨테너이) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlCntrBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBlCntr */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_CNTR
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , cntr_srno /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
        , cntr_no /** N° De Conteneur !== 컨테이너번호 ==! */
        , cntr_tp_cd /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , seal_no1 /** N° De Scellé1 !== 봉인번호1 ==! */
        , seal_no2 /** N° De Scellé2 !== 봉인번호2 ==! */
        , seal_no3 /** N° De Scellé3 !== 봉인번호3 ==! */
        , seal_chpn1 /** Responsable de scellé 1 !== 봉인담당자1 ==! */
        , seal_chpn2 /** Responsable de scellé 2 !== 봉인담당자2 ==! */
        , seal_chpn3 /** Responsable de scellé 3 !== 봉인담당자3 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , a.bl_srno AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , A.cntr_srno AS cntr_srno /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
        , A.cntr_no AS cntr_no /** N° De Conteneur !== 컨테이너번호 ==! */
        , A.cntr_tp_cd AS cntr_tp_cd /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
        , A.pckg_gcnt AS pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , A.pckg_ut_cd AS pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , A.ecntr_wght AS ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , A.ttwg AS ttwg /** Poids Brut !== 총중량 ==! */
        , A.seal_no1 AS seal_no1 /** N° De Scellé1 !== 봉인번호1 ==! */
        , A.seal_no2 AS seal_no2 /** N° De Scellé2 !== 봉인번호2 ==! */
        , A.seal_no3 AS seal_no3 /** N° De Scellé3 !== 봉인번호3 ==! */
        , A.seal_chpn1 AS seal_chpn1 /** Responsable de scellé 1 !== 봉인담당자1 ==! */
        , A.seal_chpn2 AS seal_chpn2 /** Responsable de scellé 2 !== 봉인담당자2 ==! */
        , A.seal_chpn3 AS seal_chpn3 /** Responsable de scellé 3 !== 봉인담당자3 ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL_CNTR A
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_BL BL
        ON BL.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        AND BL.BL_SRNO = a.BL_SRNO
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
        ON M.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
        AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </insert>

    <!--
    Supprimer la Rectifier BL(de Accomplissement d'exportation)
    !==화물신고서 정정 BL (수출이행) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBlExfm"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCareCagDcshMdfyBlExfm */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_EXFM A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN = #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>

    <!--
    Enregistrement de la Rectifier BL(de Accomplissement d'exportation)
    !==화물신고서 정정 (수출이행) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlExfmBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBlExfm */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_EXFM
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , exp_ffmn_srno /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
        , exp_ffmn_tp_cd /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
        , exp_ffmn_no /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
        , divd_shpm_yn /** Chargement Partiel On !== 분할선적여부 ==! */
        , divd_shpm_dgcnt /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
        , divd_shpm_last_yn /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , a.bl_srno AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , A.exp_ffmn_srno AS exp_ffmn_srno /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
        , A.exp_ffmn_tp_cd AS exp_ffmn_tp_cd /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
        , A.exp_ffmn_no AS exp_ffmn_no /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
        , A.divd_shpm_yn AS divd_shpm_yn /** Chargement Partiel On !== 분할선적여부 ==! */
        , A.divd_shpm_dgcnt AS divd_shpm_dgcnt /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
        , A.divd_shpm_last_yn AS divd_shpm_last_yn /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
        , A.pckg_gcnt AS pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , A.pckg_ut_cd AS pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , A.ttwg AS ttwg /** Poids Brut !== 총중량 ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL_EXFM A
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_BL BL
        ON BL.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        AND BL.BL_SRNO = a.BL_SRNO
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
        ON M.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
        AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </insert>

    <!--
    Supprimer la Rectifier BL(remorque)
    !==화물신고서 정정 BL (트레일러) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBlTrlr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCareCagDcshMdfyBlTrlr */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRLR A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN =
        #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier BL(remorque)
    !==화물신고서 정정 (트레일러) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlTrlrBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBlTrlr */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRLR
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , trlr_srno /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
        , vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , chss_no /** N° De Châssis !== 차대번호 ==! */
        , trlr_stsz /** Gabarit De Remorque !== 트레일러규격 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , a.bl_srno AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , A.trlr_srno AS trlr_srno /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
        , A.vhcl_rgsr_no AS vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , A.chss_no AS chss_no /** N° De Châssis !== 차대번호 ==! */
        , A.trlr_stsz AS trlr_stsz /** Gabarit De Remorque !== 트레일러규격 ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL_TRLR A
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_BL BL
        ON BL.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        AND BL.BL_SRNO = a.BL_SRNO
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
        ON M.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
        AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </insert>
    <!--
    Supprimer la Rectifier BL(train)
    !==화물신고서 정정 BL (열차) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBlTrn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCareCagDcshMdfyBlTrn */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRN A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN = #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier BL(train)
    !==화물신고서 정정 (열차) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlTrnBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBlTrn */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRN
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , trn_srno /** numéro de série du train !== 열차일련번호 ==! */
        , trn_rgsr_no /** N° enregistrement du train !== 열차등록번호 ==! */
        , wgn_no /** N° De Wagon !== 왜건번호 ==! */
        , wgn_type /** type de wagon !== 왜건타입 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , a.bl_srno AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , A.trn_srno AS trn_srno /** numéro de série du train !== 열차일련번호 ==! */
        , A.trn_rgsr_no AS trn_rgsr_no /** N° enregistrement du train !== 열차등록번호 ==! */
        , A.wgn_no AS wgn_no /** N° De Wagon !== 왜건번호 ==! */
        , A.wgn_type AS wgn_type /** type de wagon !== 왜건타입 ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL_TRN A
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_BL BL
        ON BL.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        AND BL.BL_SRNO = a.BL_SRNO
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
        ON M.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
        AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </insert>
    <!--
    Supprimer la Rectifier BL(véhicule)
    !==화물신고서 정정 BL (자동차) 삭제 한다.==!
    (Kwon WooHyun)
    -->
    <delete id="deleteCareCagDcshMdfyBlVhcl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.deleteCareCagDcshMdfyBlVhcl */
        DELETE
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_VHCL A
         WHERE 1=1
           AND A.CAG_DCSH_MDFY_RQST_MGRN = #{cagDcshMdfyRqstMgrn} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier BL(véhicule)
    !==화물신고서 정정 (자동차) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCareCagDcshMdfyBlVhclBySelect"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.insertCareCagDcshMdfyBlVhcl */
        INSERT INTO ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_VHCL
        ( cag_dcsh_mdfy_rqst_mgrn /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , vhcl_srno /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
        , chss_no /** N° De Châssis !== 차대번호 ==! */
        , vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , vhcl_mnur_cd /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
        , vhcl_mdl_cd /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
        , vhcl_knd_nm /** Type De Véhicule !== 차량종류명 ==! */
        , vhcl_mnfc_yy /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
        , engn_clnd_gcnt /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
        , vhcl_totl_wght /** Poids total en charge !== 차량총중량 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstMgrn} AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , A.bl_srno AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , A.vhcl_srno AS vhcl_srno /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
        , A.chss_no AS chss_no /** N° De Châssis !== 차대번호 ==! */
        , A.vhcl_rgsr_no AS vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , A.vhcl_mnur_cd AS vhcl_mnur_cd /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
        , A.vhcl_mdl_cd AS vhcl_mdl_cd /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
        , A.vhcl_knd_nm AS vhcl_knd_nm /** Type De Véhicule !== 차량종류명 ==! */
        , A.vhcl_mnfc_yy AS vhcl_mnfc_yy /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
        , A.engn_clnd_gcnt AS engn_clnd_gcnt /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
        , A.vhcl_totl_wght AS vhcl_totl_wght /** Poids total en charge !== 차량총중량 ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_BL_VHCL A
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_BL BL
        ON BL.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        AND BL.BL_SRNO = a.BL_SRNO
        INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH M
        ON M.cag_dcsh_rgsr_mgmt_no = a.cag_dcsh_rgsr_mgmt_no
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
        AND m.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </insert>

    <!--
    Voir les détails de la Rectifier la déclaration de cargaison
    !==화물신고서 정정 상세 조회 한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCareDcshMdfy"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCareDcshMdfy */
        SELECT MNFS.cag_dcsh_rgsr_mgmt_no                            AS cag_dcsh_rgsr_mgmt_no/** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
             , MDFY.cag_dcsh_mdfy_rqst_mgrn                          AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
             , MDFY.cag_dcsh_mdfy_rqst_no                            AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , MDFY.mrn                                              AS mrn /** Mrn !== MRN ==! */
             , MDFY.mdfy_dgcnt                                       AS mdfy_dgcnt /** Fréquence de rectification !== 정정차수 ==! */
             , MDFY.co_rqst_no                                       AS co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
             , TO_CHAR(MDFY.trsn_dttm, 'DD/MM/YYYY HH24:MI:SS')      AS trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
             , MDFY.cag_rqst_tp_cd                                   AS cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
             , MDFY.jrsd_orgn_cd                                     AS jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
             , MDFY.trsn_co_cd                                       AS trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
             , MDFY.cag_dcsh_mdfy_tp_cd                              AS cag_dcsh_mdfy_tp_cd /** Code de classification de correction de la déclaration de fret !== 화물신고서정정구분코드 ==! */
             , MDFY.mdfy_rsn_cn                                      AS mdfy_rsn_cn /** Motif de rectification !== 정정사유내용 ==! */
             , MDFY.bl_no                                            AS bl_no /** N° De Bl !== BL번호 ==! */
             , TO_CHAR(MDFY.prcs_dttm, 'DD/MM/YYYY HH24:MI:SS')      AS prcs_dttm /** Date Et Heure De Traitement !== 처리일시 ==! */
             , MDFY.prcs_stts_cd                                     AS prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
             , MDFY.apre_yn_cd                                       AS apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
             , MDFY.audt_opin_cn                                     AS audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
             , MDFY.del_yn                                           AS del_yn /** Suppression On !== 삭제여부 ==! */
             , MDFY.frst_regst_id                                    AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , TO_CHAR(MDFY.frst_rgsr_dttm, 'DD/MM/YYYY HH24:MI:SS') AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , MDFY.last_chpr_id                                     AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , TO_CHAR(MDFY.last_chg_dttm, 'DD/MM/YYYY HH24:MI:SS')  AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
          FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY MDFY
         INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH MNFS
            ON MDFY.MRN = MNFS.MRN
         WHERE MDFY.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
           AND MNFS.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
           AND MDFY.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </select>

    <!--
    Supprimer les Rectifier la déclaration de cargaison
    !==화물신고서 정정 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCagiDcshMdfyMst"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCagiDcshMdfyMst */
        DELETE
        FROM TB_CARI_CAG_DCSH_MDFY A
        WHERE A.mrn = #{mrn}
    </delete>
    <!--
    [CARI /   Rectifier la déclaration de cargaison ] Sauvegarder les informations sur Original
    !==[CARI/적하목록정정]* 원본저장==!
    -->
    <insert id="insertCagiDcshMdfyMst"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCagiDcshMdfyMst */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , cag_dcsh_mdfy_rqst_mgrn /** Numéro de gestion de la demande de correction de la déclaration de fret !==
        화물신고정정신청관리번호 ==! */
        , mrn /** Mrn !== MRN ==! */
        , mdfy_dgcnt /** Fréquence de rectification !== 정정차수 ==! */
        , co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
        , trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
        , cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
        , jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
        , trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
        , cag_dcsh_mdfy_tp_cd /** Code de classification de correction de la déclaration de fret !== 화물신고서정정구분코드 ==! */
        , mdfy_rsn_cn /** Motif de rectification !== 정정사유내용 ==! */
        , bl_no /** N° De Bl !== BL번호 ==! */
        , prcs_dttm /** Date Et Heure De Traitement !== 처리일시 ==! */
        , prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
        , apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
        , audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
        , atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de
        fret !== 화물신고서정정신청번호 ==! */
        , A.cag_dcsh_mdfy_rqst_mgrn AS cag_dcsh_mdfy_rqst_mgrn/** Numéro de gestion de la demande de correction de la
        déclaration de fret !== 화물신고서정정신청관리번호 ==! */
        , A.mrn AS mrn /** Mrn !== MRN ==! */
        , A.mdfy_dgcnt AS mdfy_dgcnt /** Fréquence de rectification !== 정정차수 ==! */
        , A.co_rqst_no AS co_rqst_no /** N° de demande d'entreprise !== 업체신청번호 ==! */
        <if test="cagDcshMdfyTpCd == null or cagDcshMdfyTpCd == '' or cagDcshMdfyTpCd == '01'">
            , A.trsn_dttm AS trsn_dttm /** Date et heure de transmission !== 전송일시 ==! */
        </if>
        <if test="cagDcshMdfyTpCd != null and cagDcshMdfyTpCd != '' and cagDcshMdfyTpCd != '01'">
            , TO_DATE(#{trsnDttm}, 'DD/MM/YYYY HH24:MI:SS') /** Date et heure de envoye !==전송일시==! */
        </if>
        , A.cag_rqst_tp_cd AS cag_rqst_tp_cd /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
        , A.jrsd_orgn_cd AS jrsd_orgn_cd /** Code D'Unité Compétente !== 관할조직코드 ==! */
        , A.trsn_co_cd AS trsn_co_cd /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
        , A.cag_dcsh_mdfy_tp_cd AS cag_dcsh_mdfy_tp_cd /** Code de classification de correction de la déclaration de
        fret !== 화물신고서정정구분코드 ==! */
        , A.mdfy_rsn_cn AS mdfy_rsn_cn /** Motif de rectification !== 정정사유내용 ==! */
        , A.bl_no AS bl_no /** N° De Bl !== BL번호 ==! */
        , A.prcs_dttm AS prcs_dttm /** Date Et Heure De Traitement !== 처리일시 ==! */
        , A.prcs_stts_cd AS prcs_stts_cd /** Code De Statut De Traitement !== 처리상태코드 ==! */
        , A.apre_yn_cd AS apre_yn_cd /** Autorisation O/N !== 승인여부코드 ==! */
        , A.audt_opin_cn AS audt_opin_cn /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
        , A.atch_file_id AS atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
        , A.del_yn AS del_yn /** Suppression On !== 삭제여부 ==! */
        , A.frst_regst_id AS frst_regst_id /** Id Du Premier Enregistrant !== 최초등록자ID ==! */
        , A.frst_rgsr_dttm AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , A.last_chpr_id AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , A.last_chg_dttm AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY A
        WHERE A.del_yn = 'N'
        AND A.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}/** Suppression ON !== 삭제여부 ==! */
    </insert>

    <!--
    Supprimer les Rectifier la déclaration de cargaison(les informations de base)
    !==화물신고서 정정 (기본정보) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCagiDcshMdfyGnrl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCagiDcshMdfyGnrl */
        DELETE
        FROM TB_CARI_CAG_DCSH_MDFY_GNRL A
        WHERE A.mrn = #{mrn}
    </delete>

    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(les informations de base)
    !==화물신고서 정정 (기본정보) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCagiDcshMdfyGnrl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCagiDcshMdfyGnrl */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_GNRL
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , mrn /** Mrn !== MRN ==! */
        , al_bl_gcnt /** Nombre Total De Bl !== 전체BL개수 ==! */
        , al_pckg_gcnt /** Nombre Total De Colis  !== 전체포장개수 ==! */
        , al_ttwg /** Poids Brut Total !== 전체총중량 ==! */
        , al_cntr_gcnt /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
        , al_ecntr_cnt /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
        , al_vhcl_gcnt /** Nombre Total De Véhicules !== 전체차량개수 ==! */
        , trnp_mean_cd /** Code de mode de transport !== 운송방법코드 ==! */
        , trnp_meth_nm /** Nom De Moyen De Transport !== 운송수단명 ==! */
        , trnp_meth_idfy_no /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
        , trnp_rfer_no /** N° de référence de transport !== 운송참고번호 ==! */
        , trnp_meth_rgsr_dt /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
        , dptr_dttm /** Date Et Heure De Départ !== 출발일시 ==! */
        , arvl_dttm /** Date Et Heure D'Arrivée !== 도착일시 ==! */
        , real_arvl_dttm /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
        , last_ldun_dt /** Date De Déchargement Définitif !== 최종하역일자 ==! */
        , dptr_port_cd /** Code De Port De Départ !== 출발항구코드 ==! */
        , ldun_port_cd /** Code De Port De Déchargement !== 하역항구코드 ==! */
        , last_thrg_port_cd /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
        , trnp_meth_loct_nm /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
        , trnp_meth_nat_cd /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
        , ship_ttn /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
        , ship_nttn /** Tonnage Net Du Navire !== 선박순톤수 ==! */
        , ltsp_yn /** Nil !== 공선여부 ==! */
        , carr_cd /** Code De Société De Transport !== 운송사코드 ==! */
        , carr_addr_nm /** Adresse De Société De Transport !== 운송사주소명 ==! */
        , imo_no /** N° IMO !== IMO번호 ==! */
        , atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , al_ntwg /** Poids net total (KG) !== 전체 순중량 ==! */
        , drvr_nm
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.mrn                AS mrn /** Mrn !== MRN ==! */
             , A.al_bl_gcnt         AS al_bl_gcnt /** Nombre Total De Bl !== 전체BL개수 ==! */
             , A.al_pckg_gcnt       AS al_pckg_gcnt /** Nombre Total De Colis  !== 전체포장개수 ==! */
             , A.al_ttwg            AS al_ttwg /** Poids Brut Total !== 전체총중량 ==! */
             , A.al_cntr_gcnt       AS al_cntr_gcnt /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
             , A.al_ecntr_cnt       AS al_ecntr_cnt /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
             , A.al_vhcl_gcnt       AS al_vhcl_gcnt /** Nombre Total De Véhicules !== 전체차량개수 ==! */
             , A.trnp_mean_cd       AS trnp_mean_cd /** Code de mode de transport !== 운송방법코드 ==! */
             , A.trnp_meth_nm       AS trnp_meth_nm /** Nom De Moyen De Transport !== 운송수단명 ==! */
             , A.trnp_meth_idfy_no  AS trnp_meth_idfy_no /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
             , A.trnp_rfer_no       AS trnp_rfer_no /** N° de référence de transport !== 운송참고번호 ==! */
             , A.trnp_meth_rgsr_dt  AS trnp_meth_rgsr_dt /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
             , A.dptr_dttm          AS dptr_dttm /** Date Et Heure De Départ !== 출발일시 ==! */
             , A.arvl_dttm          AS arvl_dttm /** Date Et Heure D'Arrivée !== 도착일시 ==! */
             , A.real_arvl_dttm     AS real_arvl_dttm /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
             , A.last_ldun_dt       AS last_ldun_dt /** Date De Déchargement Définitif !== 최종하역일자 ==! */
             , A.dptr_port_cd       AS dptr_port_cd /** Code De Port De Départ !== 출발항구코드 ==! */
             , A.ldun_port_cd       AS ldun_port_cd /** Code De Port De Déchargement !== 하역항구코드 ==! */
             , A.last_thrg_port_cd  AS last_thrg_port_cd /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
             , A.trnp_meth_loct_nm  AS trnp_meth_loct_nm /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
             , A.trnp_meth_nat_cd   AS trnp_meth_nat_cd /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
             , A.ship_ttn           AS ship_ttn /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
             , A.ship_nttn          AS ship_nttn /** Tonnage Net Du Navire !== 선박순톤수 ==! */
             , A.ltsp_yn            AS ltsp_yn /** Nil !== 공선여부 ==! */
             , A.carr_cd            AS carr_cd /** Code De Société De Transport !== 운송사코드 ==! */
             , A.carr_addr_nm       AS carr_addr_nm /** Adresse De Société De Transport !== 운송사주소명 ==! */
             , A.imo_no             AS imo_no /** N° IMO !== IMO번호 ==! */
             , A.atch_file_id       AS atch_file_id /** Id Du Fichier Joint !== 첨부파일ID ==! */
             , A.del_yn             AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id      AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm     AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id       AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm      AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , A.al_ntwg            AS al_ntwg /** Poids net total (KG) !== 전체 순중량 ==! */
             , A.drvr_nm            AS drvr_nm
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_GNRL A
        WHERE A.del_yn = 'N' /** Suppression ON !== 삭제여부 ==! */
          AND A.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>
    <!--
    Supprimer les Rectifier la déclaration de cargaison(BL)
    !==화물신고서 정정 (BL) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBl */
        DELETE
        TB_CARI_CAG_DCSH_MDFY_BL A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no =
        #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(BL)
    !==화물신고서 정정 (BL) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBl */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , cag_mgmt_no /** N° Demande De La Création De Crn !== 화물관리번호 ==! */
        , msn /** Msn !== MSN ==! */
        , hsn /** Hsn !== HSN ==! */
        , bl_no /** N° De Bl !== BL번호 ==! */
        , hbl_no /** N° de House B/L !== HBL번호 ==! */
        , cag_tp_cd /** Type de flux !== 화물구분코드 ==! */
        , bl_tp_cd /** Code De Catégorie De B/L !== BL구분코드 ==! */
        , bl_pt_cd /** Code De Type De Bl !== BL유형코드 ==! */
        , frwr_cd /** Code De Groupeur !== 포워더코드 ==! */
        , load_regn_cd /** Code De Lieu De Chargement !== 적재지역코드 ==! */
        , ldun_regn_cd /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
        , ibobz_cd /** Code de zone sous douane !== 보세구역코드 ==! */
        , stvd_cd /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
<!--         , trns_regn_cd /** Code de lieu de transit international !== 트랜짓지역코드 ==! */ -->
        , trnh_regn_cd /** Code De Région De Transbordement !== 환적지역코드 ==! */
        , cag_chrc_cd /** Nature De Cargaison !== 화물특성코드 ==! */
        , send_way /** Mode de livraison !== 발송방식 ==! */
        , cmdt_knd_cd /** Nature De Marchandise !== 물품종류코드 ==! */
        , pdls_nm /** Nom De L'Article !== 품목명 ==! */
        , cas_no /** Numero CAS !== CAS번호 ==! */
        , undg_id /** Identifiant UNDG !== UNDGID ==! */
        , hs_cd /** Code Sh !== HS코드 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , ntwg /** Poids Net !== 순중량 ==! */
        , cbm_vol /** Volume (Mtq) !== 입방미터용적 ==! */
        , lir_vol /** Volume (Litre) !== 리터용적 ==! */
        , hdcb_tp_cd /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
        , shmr_cn /** Marque De Colis !== 화인내용 ==! */
        , add_info_cn /** Info Supplémentaire  !== 부가정보내용 ==! */
        , cntr_gcnt /** Nombre De Conteneurs !== 컨테이너개수 ==! */
        , vhcl_gcnt /** Nombre De Véhicules !== 차량개수 ==! */
        , prpm_dfpm_cach_tp_cd /** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
        , cmdt_amt /** Valeur de marchandise !== 물품금액 ==! */
        , cmdt_amt_curr_cd /** Article Montant Code de devise !== 물품금액통화코드 ==! */
        , exppn_txpr_idfy_no /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
        , exppn_nm /** Nom De L'Exportateur !== 수출자명 ==! */
        , exppn_addr_nm /** Adresse De L'Exportateur !== 수출자주소명 ==! */
        , exppn_tlph_no /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
        , exppn_eml /** Email De L'Exportateur !== 수출자이메일 ==! */
        , abrd_frwr_nm /** Nom De L'Expéditeur !== 국외포워더명 ==! */
        , abrd_frwr_addr_nm /** Adresse De L'Expéditeur !== 국외포워더주소명 ==! */
        , abrd_frwr_tlph_no /** Téléphone De L'Expéditeur !== 국외포워더전화번호 ==! */
        , abrd_frwr_eml /** Email De L'Expéditeur !== 국외포워더이메일 ==! */
        , cnsi_txpr_idfy_no /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
        , cnsi_nm /** Nom de destinataire !== 수하인명 ==! */
        , cnsi_addr_nm /** Adresse Du Destinataire !== 수하인주소명 ==! */
        , cnsi_tlph_no /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
        , cnsi_eml /** E-mail de destinataire !== 수하인이메일 ==! */
        , ntpr_nm /** Nom De La Partie À Notifier !== 통지처명 ==! */
        , ntpr_addr_nm /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
        , ntpr_tlph_no /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
        , ntpr_eml /** Email De La Partie À Notifier !== 통지처이메일 ==! */
        , bf_cag_mgmt_no /** Crn Précédent !== 이전화물관리번호 ==! */
        , bl_mdfy_tp_cd /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
        , al_hbl_gcnt /** Nombre Total De Sous Bl !== 전체HBL개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , coat_trnp_yn /** Cabotage On !== 연안운송여부 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , ldun_yn /** déchargement On !== 양하여부 ==! */
        , cnsi_txpr_idfy_no_nin /** NIN de déstinataire !== 수하인납세자식별번호(NIN) ==! */
        , exppn_txpr_idfy_no_nin /** NIN d'exportateur !== 수출자납세자식별번호(NIN) ==! */
        , BL_PBLS_DT 		    /** Date de délivrance du B/L(LTA) !== BL발행일자 ==! */
        , UNDG_GD_CD 		    /** Code de classe UNDG !== UNDG등급 ==! */
        , CHER_YN 			    /** affréteur d’espace/slot !== 용선여부 ==! */
        , CHER_GVNM_NM 			/** nom de l’affréteur/slotteur !== 용선이름 ==! */
        , CHER_ADDR_NM          /** adresse affréteur/slotteur !== 용선주소 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo}   AS cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno              AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.cag_mgmt_no          AS cag_mgmt_no /** N° Demande De La Création De Crn !== 화물관리번호 ==! */
             , A.msn                  AS msn /** Msn !== MSN ==! */
             , A.hsn                  AS hsn /** Hsn !== HSN ==! */
             , A.bl_no                AS bl_no /** N° De Bl !== BL번호 ==! */
             , A.hbl_no               AS hbl_no /** N° de House B/L !== HBL번호 ==! */
             , A.cag_tp_cd            AS cag_tp_cd /** Type de flux !== 화물구분코드 ==! */
             , A.bl_tp_cd             AS bl_tp_cd /** Code De Catégorie De B/L !== BL구분코드 ==! */
             , A.bl_pt_cd             AS bl_pt_cd /** Code De Type De Bl !== BL유형코드 ==! */
             , A.frwr_cd              AS frwr_cd /** Code De Groupeur !== 포워더코드 ==! */
             , A.load_regn_cd         AS load_regn_cd /** Code De Lieu De Chargement !== 적재지역코드 ==! */
             , A.ldun_regn_cd         AS ldun_regn_cd /** Code De Lieu De Déchargement !== 하역지역코드 ==! */
             , A.ibobz_cd             AS ibobz_cd /** Code de zone sous douane !== 보세구역코드 ==! */
             , A.stvd_cd              AS stvd_cd /** Code De Stevedoremanutentionnaire !== 하역업자코드 ==! */
<!--              , A.trns_regn_cd         AS trns_regn_cd /** Code de lieu de transit international !== 트랜짓지역코드 ==! */ -->
             , A.trnh_regn_cd         AS trnh_regn_cd /** Code De Région De Transbordement !== 환적지역코드 ==! */
             , A.cag_chrc_cd          AS cag_chrc_cd /** Nature De Cargaison !== 화물특성코드 ==! */
             , A.send_way             AS send_way /** Mode de livraison !== 발송방식 ==! */
             , A.cmdt_knd_cd          AS cmdt_knd_cd /** Nature De Marchandise !== 물품종류코드 ==! */
             , A.pdls_nm              AS pdls_nm /** Nom De L'Article !== 품목명 ==! */
             , A.cas_no               AS cas_no /** Numero CAS !== CAS번호 ==! */
             , A.undg_id               AS undg_id /** Identifiant UNDG !== UNDGID ==! */
             , A.hs_cd                AS hs_cd /** Code Sh !== HS코드 ==! */
             , A.pckg_gcnt            AS pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
             , A.ecntr_wght           AS ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
             , A.ttwg                 AS ttwg /** Poids Brut !== 총중량 ==! */
             , A.ntwg                 AS ntwg /** Poids Net !== 순중량 ==! */
             , A.cbm_vol              AS cbm_vol /** Volume (Mtq) !== 입방미터용적 ==! */
             , A.lir_vol              AS lir_vol /** Volume (Litre) !== 리터용적 ==! */
             , A.hdcb_tp_cd           AS hdcb_tp_cd /** Code de type d'hydrocarbure !== 탄화수소구분코드 ==! */
             , A.shmr_cn              AS shmr_cn /** Marque De Colis !== 화인내용 ==! */
             , A.add_info_cn          AS add_info_cn /** Info Supplémentaire  !== 부가정보내용 ==! */
             , A.cntr_gcnt            AS cntr_gcnt /** Nombre De Conteneurs !== 컨테이너개수 ==! */
             , A.vhcl_gcnt            AS vhcl_gcnt /** Nombre De Véhicules !== 차량개수 ==! */
             , A.prpm_dfpm_cach_tp_cd AS prpm_dfpm_cach_tp_cd/** Ind. fret prépayé/dû !== 선불후불운임구분코드 ==! */
             , A.cmdt_amt             AS cmdt_amt /** Valeur de marchandise !== 물품금액 ==! */
             , A.cmdt_amt_curr_cd     AS cmdt_amt_curr_cd /** Article Montant Code de devise !== 물품금액통화코드 ==! */
             , A.exppn_txpr_idfy_no   AS exppn_txpr_idfy_no /** NIF de l'exportateur !== 수출자납세자식별번호 ==! */
             , A.exppn_nm             AS exppn_nm /** Nom De L'Exportateur !== 수출자명 ==! */
             , A.exppn_addr_nm        AS exppn_addr_nm /** Adresse De L'Exportateur !== 수출자주소명 ==! */
             , A.exppn_tlph_no        AS exppn_tlph_no /** Téléphone De L'Exportateur !== 수출자전화번호 ==! */
             , A.exppn_eml            AS exppn_eml /** Email De L'Exportateur !== 수출자이메일 ==! */
             , A.abrd_frwr_nm         AS abrd_frwr_nm /** Nom De L'Expéditeur !== 국외포워더명 ==! */
             , A.abrd_frwr_addr_nm    AS abrd_frwr_addr_nm /** Adresse De L'Expéditeur !== 국외포워더주소명 ==! */
             , A.abrd_frwr_tlph_no    AS abrd_frwr_tlph_no /** Téléphone De L'Expéditeur !== 국외포워더전화번호 ==! */
             , A.abrd_frwr_eml        AS abrd_frwr_eml /** Email De L'Expéditeur !== 국외포워더이메일 ==! */
             , A.cnsi_txpr_idfy_no    AS cnsi_txpr_idfy_no /** Niu Du Destinataire !== 수하인납세자식별번호 ==! */
             , A.cnsi_nm              AS cnsi_nm /** Nom de destinataire !== 수하인명 ==! */
             , A.cnsi_addr_nm         AS cnsi_addr_nm /** Adresse Du Destinataire !== 수하인주소명 ==! */
             , A.cnsi_tlph_no         AS cnsi_tlph_no /** N° de téléphone de destinataire !== 수하인전화번호 ==! */
             , A.cnsi_eml             AS cnsi_eml /** E-mail de destinataire !== 수하인이메일 ==! */
             , A.ntpr_nm              AS ntpr_nm /** Nom De La Partie À Notifier !== 통지처명 ==! */
             , A.ntpr_addr_nm         AS ntpr_addr_nm /** Adresse De La Partie À Notifier !== 통지처주소명 ==! */
             , A.ntpr_tlph_no         AS ntpr_tlph_no /** Téléphone De La Partie À Notifier !== 통지처전화번호 ==! */
             , A.ntpr_eml             AS ntpr_eml /** Email De La Partie À Notifier !== 통지처이메일 ==! */
             , A.bf_cag_mgmt_no       AS bf_cag_mgmt_no /** Crn Précédent !== 이전화물관리번호 ==! */
             , A.bl_mdfy_tp_cd        AS bl_mdfy_tp_cd /** Code de catégorie de rectification de BL !== BL정정구분코드 ==! */
             , A.al_hbl_gcnt          AS al_hbl_gcnt /** Nombre Total De Sous Bl !== 전체HBL개수 ==! */
             , A.pckg_ut_cd           AS pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
             , A.coat_trnp_yn         AS coat_trnp_yn /** Cabotage On !== 연안운송여부 ==! */
             , A.del_yn               AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id        AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm       AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id         AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm        AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , A.ldun_yn              AS ldun_yn /** déchargement On !== 양하여부 ==! */
             , A.cnsi_txpr_idfy_no_nin  AS cnsi_txpr_idfy_no_nin  /** NIN de déstinataire !== 수하인납세자식별번호(NIN) ==! */
             , A.exppn_txpr_idfy_no_nin AS exppn_txpr_idfy_no_nin /** NIN d'exportateur !== 수출자납세자식별번호(NIN) ==! */
             , A.BL_PBLS_DT /** Date de délivrance du B/L(LTA) !== BL발행일자 ==! */
             , A.UNDG_GD_CD /** Code de classe UNDG !== UNDG등급 ==! */
             , A.CHER_YN /** affréteur d’espace/slot !== 용선여부 ==! */
             , A.CHER_GVNM_NM /** nom de l’affréteur/slotteur !== 용선이름 ==! */
             , A.CHER_ADDR_NM /** adresse affréteur/slotteur !== 용선주소 ==! */
        FROM alpassext.TB_CARE_CAG_DCSH_MDFY_BL a
                 inner join alpassext.TB_CARE_CAG_DCSH_MDFY m
                            on m.cag_dcsh_mdfy_rqst_mgrn = a.cag_dcsh_mdfy_rqst_mgrn
        WHERE m.DEL_YN = 'N'
          AND a.DEL_YN = 'N'
          AND m.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>
    <!--
    Supprimer les Rectifier la déclaration de cargaison(Conteneur)
    !==화물신고서 정정 (컨테이너) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBlCntr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBlCntr */
        DELETE
        TB_CARI_CAG_DCSH_MDFY_BL_CNTR A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no =
        #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(Conteneur)
    !==화물신고서 정정 (컨테이너) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBlCntr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBlCntr */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL_CNTR
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , cntr_srno /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
        , cntr_no /** N° De Conteneur !== 컨테이너번호 ==! */
        , cntr_tp_cd /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , seal_no1 /** N° De Scellé1 !== 봉인번호1 ==! */
        , seal_no2 /** N° De Scellé2 !== 봉인번호2 ==! */
        , seal_no3 /** N° De Scellé3 !== 봉인번호3 ==! */
        , seal_chpn1 /** Responsable de scellé 1 !== 봉인담당자1 ==! */
        , seal_chpn2 /** Responsable de scellé 2 !== 봉인담당자2 ==! */
        , seal_chpn3 /** Responsable de scellé 3 !== 봉인담당자3 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno            AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.cntr_srno          AS cntr_srno /** N° De Séquence Du Conteneur !== 컨테이너일련번호 ==! */
             , A.cntr_no            AS cntr_no /** N° De Conteneur !== 컨테이너번호 ==! */
             , A.cntr_tp_cd         AS cntr_tp_cd /** Code De Type De Conteneur !== 컨테이너구분코드 ==! */
             , A.pckg_gcnt          AS pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
             , A.pckg_ut_cd         AS pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
             , A.ecntr_wght         AS ecntr_wght /** Tare De Conteneur(S) À Vide !== 공컨테이너중량 ==! */
             , A.ttwg               AS ttwg /** Poids Brut !== 총중량 ==! */
             , A.seal_no1           AS seal_no1 /** N° De Scellé1 !== 봉인번호1 ==! */
             , A.seal_no2           AS seal_no2 /** N° De Scellé2 !== 봉인번호2 ==! */
             , A.seal_no3           AS seal_no3 /** N° De Scellé3 !== 봉인번호3 ==! */
             , A.seal_chpn1         AS seal_chpn1 /** Responsable de scellé 1 !== 봉인담당자1 ==! */
             , A.seal_chpn2         AS seal_chpn2 /** Responsable de scellé 2 !== 봉인담당자2 ==! */
             , A.seal_chpn3         AS seal_chpn3 /** Responsable de scellé 3 !== 봉인담당자3 ==! */
             , A.del_yn             AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id      AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm     AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id       AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm      AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_CNTR A
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL BL
                            ON BL.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
                                AND BL.BL_SRNO = A.BL_SRNO
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY M
                            ON M.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
        WHERE M.DEL_YN = 'N'
          AND BL.DEL_YN = 'N'
          AND A.DEL_YN = 'N'
          AND M.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}

    </insert>
    <!--
    Supprimer les Rectifier la déclaration de cargaison(Accomplissement d'exportation)
    !==화물신고서 정정 (수출행이) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBlExfm"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBlExfm */
        DELETE
        TB_CARI_CAG_DCSH_MDFY_BL_EXFM A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no =
        #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(Accomplissement d'exportation)
    !==화물신고서 정정 (수출행이) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBlExfm"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBlExfm */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL_EXFM
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , exp_ffmn_srno /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
        , exp_ffmn_tp_cd /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
        , exp_ffmn_no /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
        , divd_shpm_yn /** Chargement Partiel On !== 분할선적여부 ==! */
        , divd_shpm_dgcnt /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
        , divd_shpm_last_yn /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
        , pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
        , pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
        , ttwg /** Poids Brut !== 총중량 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo}    AS cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno               AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.exp_ffmn_srno         AS exp_ffmn_srno /** N° De Séquence De L'Apurement D'Exportation !== 수출이행일련번호 ==! */
             , A.exp_ffmn_tp_cd        AS exp_ffmn_tp_cd /** Type D'Apurement D'Exportation !== 수출이행구분코드 ==! */
             , A.exp_ffmn_no           AS exp_ffmn_no /** N° D'Apurement D'Exportation !== 수출이행번호 ==! */
             , A.divd_shpm_yn          AS divd_shpm_yn /** Chargement Partiel On !== 분할선적여부 ==! */
             , A.divd_shpm_dgcnt       AS divd_shpm_dgcnt /** Nombre De Chargement Partiel !== 분할선적차수 ==! */
             , A.divd_shpm_last_yn     AS divd_shpm_last_yn /** Dernier Chargement Partiel On !== 분할선적최종여부 ==! */
             , A.pckg_gcnt             AS pckg_gcnt /** Nombre De Colis !== 포장개수 ==! */
             , A.pckg_ut_cd            AS pckg_ut_cd /** Code De L'Unité De Colis !== 포장단위코드 ==! */
             , A.ttwg                  AS ttwg /** Poids Brut !== 총중량 ==! */
             , A.del_yn                AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id         AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm        AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id          AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm         AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_EXFM A
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL BL
                            ON BL.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
                                AND BL.BL_SRNO = A.BL_SRNO
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY M
                            ON M.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
        WHERE M.DEL_YN = 'N'
          AND BL.DEL_YN = 'N'
          AND A.DEL_YN = 'N'
          AND M.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>
    <!--
    Supprimer les Rectifier la déclaration de cargaison(remorque)
    !==화물신고서 정정 (트레일러) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBlTrlr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBlTrlr */
        DELETE
          FROM TB_CARI_CAG_DCSH_MDFY_BL_TRLR A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no = #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */

    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(remorque)
    !==화물신고서 정정 (트레일러) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBlTrlr"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBlTrlr */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL_TRLR
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , trlr_srno /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
        , vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , chss_no /** N° De Châssis !== 차대번호 ==! */
        , trlr_stsz /** Gabarit De Remorque !== 트레일러규격 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno            AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.trlr_srno          AS trlr_srno /** Numéro de série de la remorque !== 트레일러일련번호 ==! */
             , A.vhcl_rgsr_no       AS vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
             , A.chss_no            AS chss_no /** N° De Châssis !== 차대번호 ==! */
             , A.trlr_stsz          AS trlr_stsz /** Gabarit De Remorque !== 트레일러규격 ==! */
             , A.del_yn             AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id      AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm     AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id       AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm      AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRLR A
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL BL
                            ON BL.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
                                AND BL.BL_SRNO = A.BL_SRNO
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY M
                            ON M.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
        WHERE M.DEL_YN = 'N'
          AND BL.DEL_YN = 'N'
          AND A.DEL_YN = 'N'
          AND M.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>

    <!--
    Supprimer les Rectifier la déclaration de cargaison(train)
    !==화물신고서 정정 (열차) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBlTrn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBlTrn */
        DELETE
        TB_CARI_CAG_DCSH_MDFY_BL_TRN A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no =
        #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(train)
    !==화물신고서 정정 (열차) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBlTrn"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBlTrn */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL_TRN
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , trn_srno /** numéro de série du train !== 열차일련번호 ==! */
        , trn_rgsr_no /** N° enregistrement du train !== 열차등록번호 ==! */
        , wgn_no /** N° De Wagon !== 왜건번호 ==! */
        , wgn_type /** type de wagon !== 왜건타입 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno            AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.trn_srno           AS trn_srno /** numéro de série du train !== 열차일련번호 ==! */
             , A.trn_rgsr_no        AS trn_rgsr_no /** N° enregistrement du train !== 열차등록번호 ==! */
             , A.wgn_no             AS wgn_no /** N° De Wagon !== 왜건번호 ==! */
             , A.wgn_type           AS wgn_type /** type de wagon !== 왜건타입 ==! */
             , A.del_yn             AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id      AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm     AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id       AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm      AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_TRN A
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL BL
                            ON BL.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
                                AND BL.BL_SRNO = A.BL_SRNO
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY M
                            ON M.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
        WHERE M.DEL_YN = 'N'
          AND BL.DEL_YN = 'N'
          AND A.DEL_YN = 'N'
          AND M.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>
    <!--
    Supprimer les Rectifier la déclaration de cargaison(véhicule)
    !==화물신고서 정정 (자동차) 삭제 한다.==!
    (Lee KyoungSung)
    -->
    <delete id="deleteCariCagDcshMdfyBlVhcl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.deleteCariCagDcshMdfyBlVhcl */
        DELETE
        TB_CARI_CAG_DCSH_MDFY_BL_VHCL A
         WHERE 1=1
           AND A.cag_dcsh_mdfy_rqst_no =
        #{cagDcshMdfyRqstNo} /** Numéro de gestion de la demande de correction de la déclaration de fret !== 화물신고서정정신청관리번호 ==! */
    </delete>
    <!--
    Enregistrement de la Rectifier la déclaration de cargaison(véhicule)
    !==화물신고서 정정 (자동차) 등록 한다.==!
    (Kwon WooHyun)
    -->
    <insert id="insertCariCagDcshMdfyBlVhcl"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCariCagDcshMdfyBlVhcl */
        INSERT INTO TB_CARI_CAG_DCSH_MDFY_BL_VHCL
        ( cag_dcsh_mdfy_rqst_no /** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
        , bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
        , vhcl_srno /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
        , chss_no /** N° De Châssis !== 차대번호 ==! */
        , vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
        , vhcl_mnur_cd /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
        , vhcl_mdl_cd /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
        , vhcl_knd_nm /** Type De Véhicule !== 차량종류명 ==! */
        , vhcl_mnfc_yy /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
        , engn_clnd_gcnt /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
        , vhcl_totl_wght /** Poids total en charge !== 차량총중량 ==! */
        , del_yn /** Suppression On !== 삭제여부 ==! */
        , frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        )
        SELECT #{cagDcshMdfyRqstNo} AS cag_dcsh_mdfy_rqst_no/** Numéro de demande de correction de la déclaration de fret !== 화물신고서정정신청번호 ==! */
             , A.bl_srno            AS bl_srno /** N° De Séquence De Bl !== BL일련번호 ==! */
             , A.vhcl_srno          AS vhcl_srno /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
             , A.chss_no            AS chss_no /** N° De Châssis !== 차대번호 ==! */
             , A.vhcl_rgsr_no       AS vhcl_rgsr_no /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
             , A.vhcl_mnur_cd       AS vhcl_mnur_cd /** Code De Fabricant Du Véhicule !== 차량제조사코드 ==! */
             , A.vhcl_mdl_cd        AS vhcl_mdl_cd /** Code De Modèle Du Véhicule !== 차량모델코드 ==! */
             , A.vhcl_knd_nm        AS vhcl_knd_nm /** Type De Véhicule !== 차량종류명 ==! */
             , A.vhcl_mnfc_yy       AS vhcl_mnfc_yy /** Année De Fabrication De Véhicule !== 차량제조년도 ==! */
             , A.engn_clnd_gcnt     AS engn_clnd_gcnt /** Nombre De Cylindres De Moteur !== 엔진기통개수 ==! */
             , A.vhcl_totl_wght     AS vhcl_totl_wght /** Poids total en charge !== 차량총중량 ==! */
             , A.del_yn             AS del_yn /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id      AS frst_regst_id /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , A.frst_rgsr_dttm     AS frst_rgsr_dttm /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id       AS last_chpr_id /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , A.last_chg_dttm      AS last_chg_dttm /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        FROM ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL_VHCL A
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY_BL BL
                            ON BL.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
                                AND BL.BL_SRNO = A.BL_SRNO
                 INNER JOIN ALPASSEXT.TB_CARE_CAG_DCSH_MDFY M
                            ON M.cag_dcsh_mdfy_rqst_mgrn = A.cag_dcsh_mdfy_rqst_mgrn
        WHERE M.DEL_YN = 'N'
          AND BL.DEL_YN = 'N'
          AND A.DEL_YN = 'N'
          AND M.cag_dcsh_mdfy_rqst_mgrn = #{cagDcshMdfyRqstMgrn}
    </insert>

    <!--
    Voir la liste des la Infos sur le véhicule de transport terrestre
    !== 육상 운송 차량 정보 단건 조회 ==!
    (Lee KyoungSung)
    -->
	  <select id="selectCagDcshTrnpList" parameterType="alpass.ipt.car.com.vo.CarCagDcshVo" resultType="alpass.ipt.car.com.vo.CarCagDcshTrnpVo">
           /* CarCagDcshMapper.selectCagDcshTrnpList */
		       SELECT A.mrn                                                    AS mrn                 /** Mrn !== MRN ==! */
                , A.vhcl_srno                                              AS vhcl_srno           /** Numéro De Séquence De Véhicule !== 차량일련번호 ==! */
                , A.vhcl_rgsr_no                                           AS vhcl_rgsr_no        /** N° d'immatriculation du véhicule !== 차량등록번호 ==! */
                , A.chss_no                                                AS chss_no             /** N° De Châssis !== 차대번호 ==! */
                , A.vhcl_pt_cd                                             AS vhcl_pt_cd          /** Code de type de véhicule !== 차량유형코드 ==! */
                , A.vhcl_ttn                                               AS vhcl_ttn            /** Tonnage brut du véhicule !== 차량총톤수 ==! */
                , A.vhcl_nttn                                              AS vhcl_nttn           /** Tonnage net du véhicule !== 차량순톤수 ==! */
                , A.drvr_nm                                                AS drvr_nm             /** Nom de conducteur !== 운전자명 ==! */
                , A.drvr_pspr_no                                           AS drvr_pspr_no        /** N° de passeport de conducteur !== 운전자여권번호 ==! */
                , A.del_yn                                                 AS del_yn              /** Suppression On !== 삭제여부 ==! */
                , A.frst_regst_id                                          AS frst_regst_id       /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
                , TO_CHAR(A.frst_rgsr_dttm,'DD/MM/YYYY HH24:MI:SS')        AS frst_rgsr_dttm      /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
                , A.last_chpr_id                                           AS last_chpr_id        /** Id Du Modificateur Final !== 최종변경자ID ==! */
                , TO_CHAR(A.last_chg_dttm,'DD/MM/YYYY HH24:MI:SS')         AS last_chg_dttm       /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
                , A.vhcl_mnur_cd                                           AS vhcl_mnur_cd        /** Code De Fabricant Du Véhicule !== Code De Fabricant Du Vehicule ==! */
                , A.trnp_meth_nat_cd                                       AS trnp_meth_nat_cd    /** Code de nationalité du moyen de transport !== Code de nationalite du moyen de transport ==! */
                , X.vhcl_mnur_nm AS vhcl_mnur_nm
                , FN_GET_CNTY_NM(a.trnp_meth_nat_cd ,  #{langCd})           AS trnp_meth_nat_nm
             FROM TB_CARI_CAG_DCSH_TRNP A
             LEFT JOIN ALPASSINT.TB_COM_VHCL_MNUR X
               ON A.VHCL_MNUR_CD = X.VHCL_MNUR_CD
              AND X.DEL_YN = 'N'   
            WHERE A.del_yn = 'N'                                         /** Suppression ON !== 삭제여부 ==! */
             <if test="mrn != null and mrn != ''">
             AND  A.mrn = #{mrn}  /** Mrn !== MRN ==! */
             </if>
	  </select>
	  <!--
    Voir la liste des la  déclaration de cargaison  !== 화물신고서 상세 조회한다.==!
    (Lee KyoungSung)
    -->
	  <select id="selectCagDcshInqtList"
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo"
            resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCagDcshInqtList */
        <include refid="pagination.header"/>
        <include refid="selectItem"/>
        AND CD.del_yn = #{delYn} /** Suppression ON !== 삭제여부 ==! */
        <if test="prcsDttmFrom != '' and prcsDttmFrom != null and prcsDttmTo != '' and prcsDttmTo != null">
            AND PB.prcs_dttm BETWEEN TO_DATE(#{prcsDttmFrom}, 'DD/MM/YYYY')
            AND TO_DATE(#{prcsDttmTo}, 'DD/MM/YYYY') + 0.99999 /** Date et heure de traitement !==처리일시==! */
        </if>
        <if test="jrsdCstmCd != null and jrsdCstmCd != ''">
            AND CD.JRSD_ORGN_CD IN (SELECT ORGN_CD FROM TB_POTI_ORGN WHERE UPR_ORGN_MGMT_CD IN
                  (SELECT ORGN_MGMT_CD FROM TB_POTI_ORGN WHERE ORGN_CD  = #{jrsdCstmCd}))
        </if>
        <if test="jrsdOrgnCd != null and jrsdOrgnCd != ''">
            AND CD.jrsd_orgn_cd = #{jrsdOrgnCd} /** Code D'Unité Compétente !== 관할조직코드 ==! */
        </if>
        <if test="mrn != null and mrn != ''">
            AND CD.mrn = UPPER(#{mrn}) /** Mrn !== MRN ==! */
        </if>
        <if test="cagMgmtNo != null and cagMgmtNo != ''">
            AND EXISTS (SELECT '1' FROM TB_CARI_CAG_DCSH_BL X WHERE X.MRN = CD.MRN AND X.cag_mgmt_no LIKE UPPER(#{cagMgmtNo})||'%' ) /** Crn !== 화물관리번호 ==! */ 
        </if>

        <if test="prcsSttsCd != null and prcsSttsCd != ''">
            AND PB.prcs_stts_cd = #{prcsSttsCd} /** Code De Statut De Traitement !== 처리상태코드 ==! */
        </if>
        <if test="searchOrgnCd != null and searchOrgnCd != ''">
        	AND CD.jrsd_orgn_cd IN (SELECT orgn_cd 
        	                          FROM (SELECT *
                                              FROM tb_poti_orgn a
                                             WHERE del_yn = 'N'
                                             START WITH a.orgn_cd = #{searchOrgnCd}
                                           CONNECT BY PRIOR a.orgn_mgmt_cd = a.upr_orgn_mgmt_cd
                                           )
                                     WHERE orgn_tp_cd = 'BUD'
                                   ) 
        </if>
        <if test="actvCstmCd != null and actvCstmCd != ''">
        	AND CD.jrsd_orgn_cd = (SELECT orgn_cd FROM tb_poti_orgn WHERE orgn_mgmt_cd = #{actvCstmCd})
        </if>
        <if test='exprIclnYn != null and "Y".equals(exprIclnYn)'>
        	AND EXISTS (SELECT 1 FROM TB_CARI_CAG_DCSH_BL X WHERE X.MRN = CD.MRN AND X.DEL_YN = 'N' AND X.BL_TP_CD = 'X') 
        </if>
        ORDER BY PB.prcs_dttm DESC
        <include refid="pagination.footer"/>
    </select>
    
    <sql id ="selectItemPrnt">
        SELECT DCSH.MRN
		     , DCSH.CAG_DCSH_RGSR_MGMT_NO
		     , DCSH.CAG_RQST_TP_CD
		     , DCSH.JRSD_ORGN_CD
		     , DCSH.TRSN_CO_CD
		     , DCSH.TRNP_MEAN_CD
		     , DCSH.CARR_CD
		     , BL.CAG_MGMT_NO
		     , BL.BL_NO
		     , BL.CAG_TP_CD
		     , BL.BL_TP_CD
		     , BL.BL_PT_CD
		     , BL.FRWR_CD
		     , BL.IBOBZ_CD
		     , BL.CAG_CHRC_CD
		     , BL.CMDT_KND_CD
		     , BL.CHER_YN
		     , BL.CHER_GVNM_NM
		     , (SELECT CO_NM FROM TB_COM_CO T1, TB_COM_CO_DCLR_CD T2 WHERE T1.NIF = T2.NIF AND T2.CO_DCLR_CD = BL.FRWR_CD LIMIT 1) AS FRWR_NM /** Nom de groupeur !==포워더명==! */
		  FROM TB_CARI_CAG_DCSH DCSH
	INNER JOIN TB_CARI_CAG_DCSH_BL BL ON DCSH.MRN = BL.MRN AND BL.DEL_YN = 'N'
		 WHERE 1=1
		   AND DCSH.DEL_YN = 'N'
		   AND DCSH.MRN = #{mrn}
		   AND BL.BL_PT_CD = 'M'
    </sql>
    
    <sql id ="selectItemPrntWhere">
           <if test="cagDcshPrntTpCd != null and cagDcshPrntTpCd.equals('01')">
		   AND 1=1
		   </if>
		   <if test="cagDcshPrntTpCd != null and cagDcshPrntTpCd.equals('02')">
		   AND BL.CMDT_KND_CD IN ( '2', '5', '6')
		   </if>
		   <if test="cagDcshPrntTpCd != null and cagDcshPrntTpCd.equals('03')">
		   AND BL.BL_TP_CD IN ('G','X')	
		   </if>
		   <if test="cagDcshPrntTpCd != null and cagDcshPrntTpCd.equals('04')">
		   AND nvl(BL.CHER_YN,'N') = 'Y'
		   </if>
    </sql>

    <!--
     * Consulter les cas à imprimer.
     * !==출력 대상을 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagDcshPrntTrgtListTotCnt" 
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo" 
            resultType="integer">
        /* CarCagDcshMapper.selectCagDcshPrntTrgtListTotCnt */
        SELECT COUNT(*) AS TOT_CNT
          FROM (
           <include refid="selectItemPrnt"/>
           <include refid="selectItemPrntWhere"/>
               ) SQLRSLT
    </select>
    <!--
     * Consulter les cas à imprimer.
     * !==출력 대상을 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagDcshPrntTrgtList" 
            parameterType="alpass.ipt.car.com.vo.CarCagDcshVo" 
            resultType="alpass.ipt.car.com.vo.CarCagDcshBlVo">
        /* CarCagDcshMapper.selectCagDcshPrntTrgtList */
        <if test="pagination != null and  pagination == true ">
        SELECT #{totCnt} AS TOT_CNT
             , SQLRSLT.*
             , ROWNUM as RNUM
          FROM (
        </if>
           <include refid="selectItemPrnt"/>
           <include refid="selectItemPrntWhere"/>
            ORDER BY BL.bl_no 
                   , BL.hbl_no
        <if test="pagination != null and pagination == true ">
        <include refid="pagination.footer" />
        </if>
    </select>
    
    <!--
     * Enregistrer les infos sur les résultats de la transmission de documents électroniques.
     !== 전자문서 송신 결과 정보를 등록한다. ==!	전자문서 송신 결과 정보를 등록한다.
    (Lee KyoungSung)
    -->
    <insert id="insertCareCnttCagDcshTrsm" parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.insertCareCnttCagDcshTrsm */
        INSERT INTO ALPASSEXT.TB_CARE_CNTT_CAG_DCSH_TRSM
               ( mrn                           /** Mrn !== MRN ==! */
               , pobx_id                       /** Id De La Boîte Aux Documents !== 사서함ID ==! */
               , trsm_srno                     /** N° de série de transmission      !== 송신일련번호 ==! */
               , elct_doc_cd                   /** Code De Document Électronique !== 전자문서코드 ==! */
               , msg_id                        /** Id De Message !== 메시지ID ==! */
               , msg_prcs_stts_cd              /** Code D'État De Traitement De Messages !== 메시지처리상태코드 ==! */
               , del_yn                        /** Suppression On !== Suppression On ==! */
               , frst_regst_id                 /** Id Du Premier Enregistrant  !== Id Du Premier Enregistrant  ==! */
               , frst_rgsr_dttm                /** Date Et Heure De Premier Enregistrement !== Date Et Heure De Premier Enregistrement ==! */
               , last_chpr_id                  /** Id Du Modificateur Final !== Id Du Modificateur Final ==! */
               , last_chg_dttm                 /** Date Et Heure De Modification Finale !== Date Et Heure De Modification Finale ==! */
        )  VALUES (
                 #{mrn}                        /** Mrn !== MRN ==! */
               , #{pobxId}                     /** Id De La Boîte Aux Documents !== 사서함ID ==! */
               , (SELECT NVL(MAX(TRSM_SRNO),0) +1 
                    FROM ALPASSEXT.TB_CARE_CNTT_CAG_DCSH_TRSM
                   WHERE MRN = #{mrn}
					 AND POBX_ID = #{pobxId})            /** Id De La Boîte Aux Documents !== 사서함ID ==! */
               , #{elctDocCd}                  /** Code De Document Électronique !== 전자문서코드 ==! */
               , #{msgId}                      /** Id De Message !== 메시지ID ==! */
               , #{msgPrcsSttsCd}              /** Code D'État De Traitement De Messages !== 메시지처리상태코드 ==! */
               , 'N'                           /** Suppression On !== Suppression On ==! */
               , #{frstRegstId}                /** Id Du Premier Enregistrant  !== Id Du Premier Enregistrant  ==! */
               , SYSTIMESTAMP                  /** Date Et Heure De Premier Enregistrement !== Date Et Heure De Premier Enregistrement ==! */
               , #{lastChprId}                 /** Id Du Modificateur Final !== Id Du Modificateur Final ==! */
               , SYSTIMESTAMP                  /** Date Et Heure De Modification Finale !== Date Et Heure De Modification Finale ==! */
        )
    </insert>
    <!--
     * Enregistrer les infos sur les résultats de la transmission de documents électroniques.
     !== 전자문서 송신 결과 정보를 등록한다. ==!	전자문서 송신 결과 정보를 등록한다.
    (Lee KyoungSung)
    -->
    <select id="selectCareCnttCagDcsh" parameterType="alpass.ipt.car.com.vo.CarCagDcshVo" resultType="alpass.ipt.car.com.vo.CarCagDcshVo">
        /* CarCagDcshMapper.selectCareCnttCagDcsh */
        SELECT A.MRN
		         , NVL(B.POBX_ID, '') AS POBX_ID
		         , '122' AS ELCT_DOC_CD
		         , B.MSG_ID
		         , 'L04' AS MSG_PRCS_STTS_CD
		      FROM TB_CARI_CAG_DCSH A
	        LEFT JOIN ALPASSEXT.TB_CARE_CNTT_CAG_DCSH B
		        ON A.TRSN_CO_CD = B.TRSN_CO_CD
		       AND B.DEL_YN = 'N'
		       AND A.CO_RQST_NO = B.CO_RQST_NO
		       AND A.CAG_RQST_TP_CD = B.CAG_RQST_TP_CD
		       AND B.MSG_PRCS_STTS_CD = 'O03'
		     WHERE A.MRN = #{mrn}
		     LIMIT 1
    </select>
    <!--
     * Vérifier si le bon de sortie est valide ou non.!== 반출증 유효여부를 체크한다. ==!
    (Lee KyoungSung)
    -->
    <select id="selectCsclClt" parameterType="string" resultType="alpass.ipt.car.com.vo.CarCagCsclIntfVo">
    	/* CarCagDcshMapper.selectCsclClt */
    	SELECT A.dtl_dcsh_no                                            AS dtl_dcsh_no         /** Numero de la déclaration en détail !== 상세신고서번호 ==! */
             , TO_CHAR(TO_DATE(A.acpt_dt),'DD/MM/YYYY')                 AS acpt_dt             /** Date de la validation !== 수리일자 ==! */
             , A.dclr_pt_cd                                             AS dclr_pt_cd          /** Code De Type De Déclaration !== 신고유형코드 ==! */
             , A.epc_cd                                                 AS epc_cd              /** Code EPC!== EPC코드 ==! */
             , A.dcer_cd                                                AS dcer_cd             /** Code Du Déclarant !== 신고인코드 ==! */
             , A.cag_mgmt_no                                            AS cag_mgmt_no         /** N° Demande De La Création De Crn !== 화물관리번호 ==! */
             , A.cmdt_stge_loct_cd                                      AS cmdt_stge_loct_cd   /** Code De Localisation De Stockage !== 물품장치위치코드 ==! */
             , A.cntr_cag_yn                                            AS cntr_cag_yn         /** Cargaison Conteneurisée On !== 컨테이너화물여부 ==! */
             , A.apre_pckg_gcnt                                         AS apre_pckg_gcnt      /** Nombre De Colisage Autorisé !== 승인포장개수 ==! */
             , A.apre_ttwg                                              AS apre_ttwg           /** Poids Brut Autorisé !== 승인총중량 ==! */
             , A.apre_ntwg                                              AS apre_ntwg           /** Poids net autorise !== Poids net autorise | 승인순중량 ==! */
             , A.prcs_yn                                                AS prcs_yn             /** Traitement On !== 처리여부 ==! */
             , A.prcs_rslt_cd                                           AS prcs_rslt_cd        /** Code De Résultat Du Traitement !== 처리결과코드 ==! */
             , A.prcs_cn                                                AS prcs_cn             /** Contenu Du Traitement !== 처리내용 ==! */
             , A.del_yn                                                 AS del_yn              /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id                                          AS frst_regst_id       /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , TO_CHAR(A.frst_rgsr_dttm,'DD/MM/YYYY HH24:MI:SS')        AS frst_rgsr_dttm      /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id                                           AS last_chpr_id        /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , TO_CHAR(A.last_chg_dttm,'DD/MM/YYYY HH24:MI:SS')         AS last_chg_dttm       /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , A.arlc_ibobz_cd                                          AS arlc_ibobz_cd       /** Code De Zone Sous Douane De Destination !== 도착지보세구역코드 ==! */
          FROM TB_CLRI_CSCL_CAG_INTF A
         WHERE A.del_yn = 'N'                                         /** Suppression ON !== 삭제여부 ==! */
           AND NVL(A.MDFY_RQST_YN,'N') = 'N'
           AND A.dtl_dcsh_no = #{value}
    </select>

    <!--
     * Enregistrer les infos sur la sortie.      !== 반출 정보를 등록한다. ==!
    (Lee KyoungSung)
    -->
    <update id="updateCsclClt" parameterType="alpass.ipt.car.com.vo.CarCagCsclIntfVo">
    	/* CarCagDcshMapper.updateCsclClt */
    	  UPDATE TB_CLRI_CSCL_CAG_INTF a
    	     SET a.del_yn = 'N'                                  /** Suppression ON !== 삭제여부 ==! */
             , a.last_chpr_id = #{lastChprId}                  /** ID du modificateur final !== 최종변경자ID ==! */
             , a.last_chg_dttm = SYSTIMESTAMP                  /** Date et heure de modification finale !== 최종변경일시 ==! */
             <if test="prcsYn != null">
             , a.prcs_yn = #{prcsYn}                            /** Traitement On !== 처리여부 ==! */ 
             </if>
             <if test="prcsCn != null">
             , a.prcs_cn = #{prcsCn}                            /** Contenu Du Traitement !== 처리내용 ==! */ 
             </if>
             
             <if test='prcsYn != null and "Y".equals(prcsYn) and cagMgmtNo != null'>
             , a.cag_mgmt_no = #{cagMgmtNo}                       
             </if>
             
             <if test='prcsYn != null and "N".equals(prcsYn)'>
             , a.cag_mgmt_no = ''                       
             </if>
         WHERE 1=1
           <if test="dtlDcshNo != null and dtlDcshNo != ''">
           AND A.dtl_dcsh_no = #{dtlDcshNo}  /** Numero de la déclaration en détail !== 상세신고서번호 ==! */
           </if>
           <if test="mrn != null and mrn != ''">
           AND A.dtl_dcsh_no in (SELECT exp_ffmn_no 
      							               FROM tb_cari_cag_dcsh_bl x
						                      INNER JOIN tb_cari_cag_dcsh_bl_exfm y
							                       ON x.mrn = y.mrn
								                    AND x.cag_mgmt_no = y.cag_mgmt_no
								                    AND y.del_yn = 'N'
								                    AND y.exp_ffmn_tp_cd = 'EX'
								                  WHERE x.mrn = #{mrn}
								                    <if test="cagMgmtNo != null and cagMgmtNo != ''">
								                    AND x.cag_mgmt_no = #{cagMgmtNo}
								                    </if>
							 )
           </if>
    </update>
    <!--
     * Consulter les infos sur le bureau en activité.      !== 활동세관 정보를 조회한다. ==!
    (Lee KyoungSung)
    -->
    <select id="selectSbmtCstmLv3" resultType="alpass.com.comn.vo.ComItemVo" parameterType="alpass.com.cstm.vo.ComCstmOrgnVo">
        /** selectSbmtCstmLv3 */
		SELECT ORGN_MGMT_CD AS ITEM
         , ORGN_NM      AS ITEM_NM
		  FROM (SELECT LEVEL AS lev,
	                   a.orgn_mgmt_cd,
	                   a.orgn_cd,
	                   a.orgn_tp_cd,
	                   fn_get_cd_vdval_nm('POT_0002', a.orgn_tp_cd, #{langCd}) AS orgn_tp_nm,
	                   a.orgn_nm,
	                   a.orgn_desc,
	                   a.orgn_regn_cd,
	                   a.orgn_addr,
	                   a.rprs_tlph_no,
	                   a.rprs_fax_no,
	                   a.hsrk_orgn_mgmt_cd,
	                   a.upr_orgn_mgmt_cd,
	                   a.orgn_stts_cd,
	                   a.admn_cd,
	                   a.upr_orgn_cd,
	                   fn_get_upr_orgn_cd(orgn_mgmt_cd, 'INS') AS idd_mgmt_cd
                  FROM (SELECT orgn_mgmt_cd,
					           orgn_cd,
					           orgn_tp_cd,
					           orgn_nm,
					           orgn_desc,
					           orgn_regn_cd,
					           orgn_addr,
					           rprs_tlph_no,
					           rprs_fax_no,
					           hsrk_orgn_mgmt_cd,
					           upr_orgn_mgmt_cd,
					           orgn_stts_cd,
					           admn_cd,
					           (SELECT orgn_mgmt_cd
					              FROM tb_poti_orgn
					             WHERE del_yn = 'N'
					               AND orgn_mgmt_cd = a.upr_orgn_mgmt_cd) AS up_cd,
					           (SELECT orgn_cd
					              FROM tb_poti_orgn
					             WHERE del_yn = 'N'
					               AND orgn_mgmt_cd = a.upr_orgn_mgmt_cd) AS upr_orgn_cd
					      FROM tb_poti_orgn a
                         WHERE del_yn = 'N') a
                 WHERE 1=1
                 <choose>
                   <when test="iddMgmtCd != null and iddMgmtCd != ''">
                   START WITH A.ORGN_CD = #{iddMgmtCd}
                   </when>
                   <otherwise>
                   START WITH UPR_ORGN_MGMT_CD = (SELECT ORGN_MGMT_CD
                                                    FROM TB_POTI_ORGN
                                                   WHERE ORGN_CD = '500000000')
                   </otherwise>
                 </choose>
               CONNECT BY PRIOR a.orgn_mgmt_cd = a.up_cd ) a
         WHERE 1 = 1
           AND ORGN_TP_CD = 'BUD'
         ORDER BY orgn_cd
    </select>

    <!--
    Voir les détails de la déclaration de cargaison !==화물신고서를 조회한다.==!
    (Lee KyoungSung)
    -->
    <select id="selectCagDcshGetMrn" resultType="alpass.ipt.car.com.vo.CarCagDcshVo" parameterType="alpass.ipt.car.com.vo.CarCagDcshVo">
    	/** selectCagDcshGetMrn */
    	SELECT A.mrn                                                    AS mrn                 /** Mrn !== MRN ==! */
             , A.cag_dcsh_rgsr_mgmt_no                                  AS cag_dcsh_rgsr_mgmt_no/** Numéro de gestion de l'enregistrement de la déclaration de fret !== 화물신고서등록관리번호 ==! */
             , A.co_rqst_no                                             AS co_rqst_no          /** N° de demande d'entreprise !== 업체신청번호 ==! */
             , TO_CHAR(A.trsn_dttm,'DD/MM/YYYY HH24:MI:SS')             AS trsn_dttm           /** Date et heure de transmission !== 전송일시 ==! */
             , A.cag_rqst_tp_cd                                         AS cag_rqst_tp_cd      /** Code de classement du suivi du fret !== 화물신청구분코드 ==! */
             , A.jrsd_orgn_cd                                           AS jrsd_orgn_cd        /** Code D'Unité Compétente !== 관할조직코드 ==! */
             , A.trsn_co_cd                                             AS trsn_co_cd          /** Code d'entreprise transmettrice !== 전송업체코드 ==! */
             , A.al_bl_gcnt                                             AS al_bl_gcnt          /** Nombre Total De Bl !== 전체BL개수 ==! */
             , A.al_pckg_gcnt                                           AS al_pckg_gcnt        /** Nombre Total De Colis  !== 전체포장개수 ==! */
             , A.al_ttwg                                                AS al_ttwg             /** Poids Brut Total !== 전체총중량 ==! */
             , A.al_cntr_gcnt                                           AS al_cntr_gcnt        /** Nombre Total De Conteneurs !== 전체컨테이너개수 ==! */
             , A.al_ecntr_cnt                                           AS al_ecntr_cnt        /** Nombre total de conteneurs à vide !== 전체공컨테이너개수 ==! */
             , A.al_vhcl_gcnt                                           AS al_vhcl_gcnt        /** Nombre Total De Véhicules !== 전체차량개수 ==! */
             , A.trnp_mean_cd                                           AS trnp_mean_cd        /** Code de mode de transport !== 운송방법코드 ==! */
             , A.trnp_meth_nm                                           AS trnp_meth_nm        /** Nom De Moyen De Transport !== 운송수단명 ==! */
             , A.trnp_meth_idfy_no                                      AS trnp_meth_idfy_no   /** N° D'Identification Du Moyen De Transport !== 운송수단식별번호 ==! */
             , A.trnp_rfer_no                                           AS trnp_rfer_no        /** N° de référence de transport !== 운송참고번호 ==! */
             , TO_CHAR(TO_DATE(A.trnp_meth_rgsr_dt),'DD/MM/YYYY')                AS trnp_meth_rgsr_dt   /** Date D'Enregistrement De Moyen De Transport !== 운송수단등록일자 ==! */
             , TO_CHAR(A.dptr_dttm,'DD/MM/YYYY HH24:MI:SS')             AS dptr_dttm           /** Date Et Heure De Départ !== 출발일시 ==! */
             , TO_CHAR(A.arvl_dttm,'DD/MM/YYYY HH24:MI:SS')             AS arvl_dttm           /** Date Et Heure D'Arrivée !== 도착일시 ==! */
             , TO_CHAR(A.real_arvl_dttm,'DD/MM/YYYY HH24:MI:SS')        AS real_arvl_dttm      /** Date Et Heure D'Arrivée Effective !== 실제도착일시 ==! */
             , TO_CHAR(TO_DATE(A.last_ldun_dt),'DD/MM/YYYY')                     AS last_ldun_dt        /** Date De Déchargement Définitif !== 최종하역일자 ==! */
             , A.dptr_port_cd                                           AS dptr_port_cd        /** Code De Port De Départ !== 출발항구코드 ==! */
             , A.ldun_port_cd                                           AS ldun_port_cd        /** Code De Port De Déchargement !== 하역항구코드 ==! */
             , A.last_thrg_port_cd                                      AS last_thrg_port_cd   /** Code Du Dernier Port D'Escale !== 최종경유항구코드 ==! */
             , A.trnp_meth_loct_nm                                      AS trnp_meth_loct_nm   /** Emplacement De Moyen De Transport !== 운송수단위치명 ==! */
             , A.trnp_meth_nat_cd                                       AS trnp_meth_nat_cd    /** Code de nationalité du moyen de transport !== 운송수단국적코드 ==! */
             , A.ship_ttn                                               AS ship_ttn            /** Tonnage Brut Du Navire !== 선박총톤수 ==! */
             , A.ship_nttn                                              AS ship_nttn           /** Tonnage Net Du Navire !== 선박순톤수 ==! */
             , A.ltsp_yn                                                AS ltsp_yn             /** Nil !== 공선여부 ==! */
             , A.carr_cd                                                AS carr_cd             /** Code De Société De Transport !== 운송사코드 ==! */
             , A.carr_addr_nm                                           AS carr_addr_nm        /** Adresse De Société De Transport !== 운송사주소명 ==! */
             , A.eur_fxrt                                               AS eur_fxrt            /** Taux de change EUR !== EUR환율 ==! */
             , A.usd_fxrt                                               AS usd_fxrt            /** Taux de change USD !== USD환율 ==! */
             , A.apre_yn_cd                                             AS apre_yn_cd          /** Autorisation O/N !== 승인여부코드 ==! */
             , A.audt_opin_cn                                           AS audt_opin_cn        /** Contenu De L'Opinion À La Suite De La Vérification !== 심사의견내용 ==! */
             , A.imo_no                                                 AS imo_no              /** N° IMO !== IMO번호 ==! */
             , A.del_yn                                                 AS del_yn              /** Suppression On !== 삭제여부 ==! */
             , A.frst_regst_id                                          AS frst_regst_id       /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
             , TO_CHAR(A.frst_rgsr_dttm,'DD/MM/YYYY HH24:MI:SS')        AS frst_rgsr_dttm      /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
             , A.last_chpr_id                                           AS last_chpr_id        /** Id Du Modificateur Final !== 최종변경자ID ==! */
             , TO_CHAR(A.last_chg_dttm,'DD/MM/YYYY HH24:MI:SS')         AS last_chg_dttm       /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
             , A.atch_file_id                                           AS atch_file_id        /** Id Du Fichier Joint !== 파일ID ==! */
             , A.al_ntwg                                                AS al_ntwg             /** Poids Net Total !== 전체순중량 ==! */
             , A.ldun_bl_gcnt                                           AS ldun_bl_gcnt        /** TODO 번역요청 !== 하역BL개수 ==! */
             , A.drvr_nm                                                AS drvr_nm             /** Nom de conducteur !== 운전자명 ==! */
             , A.msg_prcs_stts_cd                                       AS msg_prcs_stts_cd    /** Code D'État De Traitement De Messages !== Code D'État De Traitement De Messages ==! */
          FROM TB_CARI_CAG_DCSH A
         WHERE A.del_yn = 'N'                                         /** Suppression ON !== 삭제여부 ==! */
           AND A.cag_dcsh_rgsr_mgmt_no = #{cagDcshRgsrMgmtNo}
    </select>
</mapper>
