<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="alpass.ipt.psc.frxcg.rgsr.mapper.PscFrxcgDcshJwMapper">

    <!--
    @TODO:번역필요 !== GeneratorComments 목록 조회 ==!
    -->
    <select id="selectPscFrxcgDcshJwList"  
      parameterType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo" resultType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo">
        /* selectPscFrxcgDcshJwList */
        <include refid="pagination.header" ></include>
            SELECT
                  A.FRXCG_DCSH_TEMP_NO         /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */
                , A.FRXCG_DCSH_JW_SRNO         /** N° de série des objets de valeur de déclaration des devises !== 외환신고서귀금속일련번호 ==! */
                , A.FRXCG_DCSH_MGMT_NO         /** Numéro de gestion de la déclaration de change !== 외환신고서관리번호 ==! */
                , A.JW_CD                      /** Code des objets de valeur !== 귀금속코드 ==! */
                , FN_GET_CD_VDVAL_NM('PSC_0028', A.JW_CD, #{langCd}) AS JW_CD_NM  
                , A.JW_WGHT                    /** Poids des objets de valeur !== 귀금속중량 ==! */
                , A.JW_WGHT_UT_CD              /** Code de l'unité de mesure du poids des objets de valuer !== 귀금속중량단위코드 ==! */
                , A.DEL_YN                     /** Suppression On !== 삭제여부 ==! */
                , A.FRST_REGST_ID              /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
                , A.FRST_RGSR_DTTM             /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
                , A.LAST_CHPR_ID               /** Id Du Modificateur Final !== 최종변경자ID ==! */
                , A.LAST_CHG_DTTM              /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
                , A.PDLS_NM                    /** Nom De L'Article !== 품목명 ==! */
                , ROWNUM AS SRNO               /**  !== 일련번호 ==! */
            FROM  ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT A
           WHERE  DEL_YN = 'N'                                /** Suppression ON !== 삭제여부 ==! */
             AND  A.FRXCG_DCSH_TEMP_NO = #{frxcgDcshTempNo}       /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */  
             <if test='frxcgDcshJwSrno != null and frxcgDcshJwSrno != ""'>    
		     AND A.FRXCG_DCSH_JW_SRNO = #{frxcgDcshJwSrno}    /** N° de série des objets de valeur de déclaration des devises !== 외환신고서귀금속일련번호 ==! */
		    </if>   
		   ORDER 
		      BY A.FRXCG_DCSH_JW_SRNO                     
        <include refid="pagination.footer" ></include>
    </select>


    <!--
    @TODO:번역필요 !== GeneratorComments 등록 ==!
    (Generated)
    -->
    <insert id="insertPscFrxcgDcshJw" parameterType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo">
        /* insertPscFrxcgDcshJw */
        <selectKey keyProperty="frxcgDcshJwSrno" order="BEFORE" resultType="java.math.BigDecimal">
	 		SELECT NVL(MAX(FRXCG_DCSH_JW_SRNO),0)+1 FROM ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT WHERE FRXCG_DCSH_TEMP_NO = #{frxcgDcshTempNo}
		</selectKey>
        INSERT INTO ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT
        (
          FRXCG_DCSH_TEMP_NO           /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */
        , FRXCG_DCSH_JW_SRNO           /** N° de série des objets de valeur de déclaration des devises !== 외환신고서귀금속일련번호 ==! */
        , FRXCG_DCSH_MGMT_NO           /** Numéro de gestion de la déclaration de change !== 외환신고서관리번호 ==! */
        , JW_CD                        /** Code des objets de valeur !== 귀금속코드 ==! */
        , JW_WGHT                      /** Poids des objets de valeur !== 귀금속중량 ==! */
        , JW_WGHT_UT_CD                /** Code de l'unité de mesure du poids des objets de valuer !== 귀금속중량단위코드 ==! */
        , DEL_YN                       /** Suppression On !== 삭제여부 ==! */
        , FRST_REGST_ID                /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , FRST_RGSR_DTTM               /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , LAST_CHPR_ID                 /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , LAST_CHG_DTTM                /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , PDLS_NM                    /** Nom De L'Article !== 품목명 ==! */
        )
        VALUES
        (
          #{frxcgDcshTempNo}           /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */
        , #{frxcgDcshJwSrno}           /** N° de série des objets de valeur de déclaration des devises !== 외환신고서귀금속일련번호 ==! */
        , #{frxcgDcshMgmtNo}           /** Numéro de gestion de la déclaration de change !== 외환신고서관리번호 ==! */
        , #{jwCd}                      /** Code des objets de valeur !== 귀금속코드 ==! */
        , #{jwWght}                    /** Poids des objets de valeur !== 귀금속중량 ==! */
        , #{jwWghtUtCd}                /** Code de l'unité de mesure du poids des objets de valuer !== 귀금속중량단위코드 ==! */
        , 'N'                          /** Suppression On !== 삭제여부 ==! */
        , #{frstRegstId}               /** Id Du Premier Enregistrant  !== 최초등록자ID ==! */
        , SYSTIMESTAMP                 /** Date Et Heure De Premier Enregistrement !== 최초등록일시 ==! */
        , #{lastChprId}                /** Id Du Modificateur Final !== 최종변경자ID ==! */
        , SYSTIMESTAMP                 /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
        , #{pdlsNm}                    /** Nom De L'Article !== 품목명 ==! */
        )
    </insert>


    <!--
    @TODO:번역필요 !== GeneratorComments 수정 ==!
    (Generated)
    -->
    <update id="updatePscFrxcgDcshJw" parameterType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo">
        /* updatePscFrxcgDcshJw */
        UPDATE  ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT SET 
                  FRXCG_DCSH_MGMT_NO = #{frxcgDcshMgmtNo}     /** Numéro de gestion de la déclaration de change !== 외환신고서관리번호 ==! */
                , JW_CD = #{jwCd}                             /** Code des objets de valeur !== 귀금속코드 ==! */
                , JW_WGHT = #{jwWght}                         /** Poids des objets de valeur !== 귀금속중량 ==! */
                , JW_WGHT_UT_CD = #{jwWghtUtCd}               /** Code de l'unité de mesure du poids des objets de valuer !== 귀금속중량단위코드 ==! */
                , LAST_CHPR_ID = #{lastChprId}                /** Id Du Modificateur Final !== 최종변경자ID ==! */
                , LAST_CHG_DTTM = SYSTIMESTAMP                /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
                , PDLS_NM = #{pdlsNm}                    	  /** Nom De L'Article !== 품목명 ==! */
           WHERE  DEL_YN = 'N'                                /** Suppression ON !== 삭제여부 ==! */
             AND  FRXCG_DCSH_TEMP_NO = #{frxcgDcshTempNo}       /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */
             AND  FRXCG_DCSH_JW_SRNO = #{frxcgDcshJwSrno}       /** N° de série des objets de valeur de déclaration des devises !== 외환신고서귀금속일련번호 ==! */
    </update>


    <!--
    @TODO:번역필요 !== GeneratorComments 삭제 ==!
    (Generated)
    -->
    <update id="deletePscFrxcgDcshJw" parameterType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo">
        /* deletePscFrxcgDcshJw */
        UPDATE  ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT SET 
                DEL_YN = 'Y'                                  /** Suppression ON !== 삭제여부 ==! */
             ,  LAST_CHPR_ID = #{lastChprId}                  /** ID du modificateur final !== 최종변경자ID ==! */
             ,  LAST_CHG_DTTM = SYSTIMESTAMP                  /** Date et heure de modification finale !== 최종변경일시 ==! */
         WHERE  DEL_YN = 'N'                                  /** Suppression ON !== 삭제여부 ==! */
           AND  FRXCG_DCSH_TEMP_NO = #{frxcgDcshTempNo}       /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */           
    </update>

	<!--
  	@TODO:번역필요 !== 외환신고서귀금속관리 수정 ==!
  	-->
    <update id="updatePscFrxcgDcshJwMgmt" parameterType="alpass.ipt.psc.frxcg.rgsr.vo.PscFrxcgDcshJwVo">
	    /* updatePscFrxcgDcshJwMgmt */
	    UPDATE  ALPASSINT.TB_PSCI_FRXCG_DCSH_JW_MGMT SET    
	    
	      LAST_CHPR_ID = #{lastChprId}                /** Id Du Modificateur Final !== 최종변경자ID ==! */
	    , LAST_CHG_DTTM = CURRENT_TIMESTAMP           /** Date Et Heure De Modification Finale !== 최종변경일시 ==! */
	    <if test='frxcgDcshMgmtNo != null and frxcgDcshMgmtNo != ""'>    
	    , FRXCG_DCSH_MGMT_NO = #{frxcgDcshMgmtNo}     /** Numéro de gestion de la déclaration de change !== 외환신고서관리번호 ==! */
	    </if>   
	    WHERE  DEL_YN = 'N'                                	/** Suppression ON !== 삭제여부 ==! */
	    AND    FRXCG_DCSH_TEMP_NO = #{frxcgDcshTempNo}      /** Numéro provisoire de déclaration des devises !== 외환신고서임시번호 ==! */
    </update>
   
</mapper>